module.exports=[58142,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(73170),g=a.i(87080),h=a.i(85273),i=a.i(57748),j=a.i(70351),k=a.i(90836),l=a.i(64817),m=a.i(28758),n=a.i(15887),o=a.i(34059),p=b([h,n]);[h,n]=p.then?(await p)():p,a.s(["default",0,()=>{let a=(0,f.useRouter)(),{id:b}=a.query,[c,p]=(0,e.useState)(!1),[q,r]=(0,e.useState)({title:"",slug:"",short_description:"",full_description:"",base_price_usd:"",duration:"",category:"nexus-letter",icon:"file-text",is_active:!0,display_order:1,features:[""],faqs:[{question:"",answer:""}]});(0,e.useEffect)(()=>{b&&s()},[b]);let s=async()=>{try{let{data:a,error:c}=await g.supabase.from("services").select("*").eq("id",b).single();if(c)throw c;r(a)}catch(a){console.error("Error fetching service:",a),n.toast.error("Failed to load service")}},t=a=>{let{name:b,value:c,type:d,checked:e}=a.target;r({...q,[b]:"checkbox"===d?e:c})},u=(a,b,c)=>{let d=[...q.faqs];d[a][b]=c,r({...q,faqs:d})},v=async c=>{c.preventDefault(),p(!0);try{let c={...q,base_price_usd:parseInt(q.base_price_usd),display_order:parseInt(q.display_order)},{error:d}=await g.supabase.from("services").update(c).eq("id",b);if(d)throw d;n.toast.success("Service updated successfully!"),a.push("/admin/services")}catch(a){console.error("Error saving service:",a),n.toast.error("Failed to save service: "+a.message)}finally{p(!1)}};return(0,d.jsx)(i.default,{children:(0,d.jsxs)(h.default,{children:[(0,d.jsx)(o.default,{title:"Edit Service",noindex:!0}),(0,d.jsxs)("div",{className:"max-w-4xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Edit Service"}),(0,d.jsx)("button",{onClick:()=>a.push("/admin/services"),className:"text-slate-600 hover:text-slate-900",children:(0,d.jsx)(k.X,{className:"w-6 h-6"})})]}),(0,d.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Basic Information"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Title *"}),(0,d.jsx)("input",{type:"text",name:"title",value:q.title,onChange:a=>{let b=a.target.value;r({...q,title:b,slug:b.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")})},required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Slug (URL) *"}),(0,d.jsx)("input",{type:"text",name:"slug",value:q.slug,onChange:t,required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,d.jsx)("p",{className:"text-xs text-slate-500 mt-1",children:"Auto-generated from title"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Short Description *"}),(0,d.jsx)("textarea",{name:"short_description",value:q.short_description,onChange:t,required:!0,rows:"2",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Full Description *"}),(0,d.jsx)("textarea",{name:"full_description",value:q.full_description,onChange:t,required:!0,rows:"4",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Price (USD) *"}),(0,d.jsx)("input",{type:"number",name:"base_price_usd",value:q.base_price_usd,onChange:t,required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Duration *"}),(0,d.jsx)("input",{type:"text",name:"duration",value:q.duration,onChange:t,required:!0,placeholder:"e.g., 7-10 business days",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Category *"}),(0,d.jsxs)("select",{name:"category",value:q.category,onChange:t,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,d.jsx)("option",{value:"nexus-letter",children:"Nexus Letter"}),(0,d.jsx)("option",{value:"dbq",children:"DBQ"}),(0,d.jsx)("option",{value:"aid-attendance",children:"Aid & Attendance"}),(0,d.jsx)("option",{value:"coaching",children:"Coaching"}),(0,d.jsx)("option",{value:"consultation",children:"Consultation"}),(0,d.jsx)("option",{value:"review",children:"Review"}),(0,d.jsx)("option",{value:"malpractice",children:"Malpractice"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Icon"}),(0,d.jsx)("input",{type:"text",name:"icon",value:q.icon,onChange:t,placeholder:"file-text",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Display Order"}),(0,d.jsx)("input",{type:"number",name:"display_order",value:q.display_order,onChange:t,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),(0,d.jsxs)("div",{className:"flex items-center",children:[(0,d.jsx)("input",{type:"checkbox",name:"is_active",checked:q.is_active,onChange:t,className:"w-4 h-4 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"}),(0,d.jsx)("label",{className:"ml-2 text-sm font-semibold text-slate-700",children:"Active (visible on website)"})]})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"Features"}),(0,d.jsxs)("button",{type:"button",onClick:()=>{r({...q,features:[...q.features,""]})},className:"text-indigo-600 hover:text-indigo-700 flex items-center space-x-1",children:[(0,d.jsx)(l.Plus,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Add Feature"})]})]}),(0,d.jsx)("div",{className:"space-y-3",children:q.features.map((a,b)=>(0,d.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,d.jsx)("input",{type:"text",value:a,onChange:a=>{var c;let d;return c=a.target.value,void((d=[...q.features])[b]=c,r({...q,features:d}))},placeholder:"Feature description",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"}),q.features.length>1&&(0,d.jsx)("button",{type:"button",onClick:()=>{let a;return a=q.features.filter((a,c)=>c!==b),void r({...q,features:a})},className:"text-red-600 hover:text-red-700",children:(0,d.jsx)(m.Trash2,{className:"w-4 h-4"})})]},b))})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-slate-900",children:"FAQs"}),(0,d.jsxs)("button",{type:"button",onClick:()=>{r({...q,faqs:[...q.faqs,{question:"",answer:""}]})},className:"text-indigo-600 hover:text-indigo-700 flex items-center space-x-1",children:[(0,d.jsx)(l.Plus,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Add FAQ"})]})]}),(0,d.jsx)("div",{className:"space-y-4",children:q.faqs.map((a,b)=>(0,d.jsxs)("div",{className:"border border-slate-200 rounded-lg p-4",children:[(0,d.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,d.jsxs)("span",{className:"text-sm font-semibold text-slate-700",children:["FAQ ",b+1]}),q.faqs.length>1&&(0,d.jsx)("button",{type:"button",onClick:()=>{let a;return a=q.faqs.filter((a,c)=>c!==b),void r({...q,faqs:a})},className:"text-red-600 hover:text-red-700",children:(0,d.jsx)(m.Trash2,{className:"w-4 h-4"})})]}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("input",{type:"text",value:a.question,onChange:a=>u(b,"question",a.target.value),placeholder:"Question",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,d.jsx)("textarea",{value:a.answer,onChange:a=>u(b,"answer",a.target.value),placeholder:"Answer",rows:"2",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]},b))})]}),(0,d.jsxs)("div",{className:"flex items-center justify-end space-x-4",children:[(0,d.jsx)("button",{type:"button",onClick:()=>a.push("/admin/services"),className:"px-6 py-3 border border-slate-300 rounded-lg hover:bg-slate-50",children:"Cancel"}),(0,d.jsxs)("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 flex items-center space-x-2",children:[(0,d.jsx)(j.Save,{className:"w-5 h-5"}),(0,d.jsx)("span",{children:c?"Saving...":"Update Service"})]})]})]})]})]})})}]),c()}catch(a){c(a)}},!1),31518,a=>a.a(async(b,c)=>{try{var d=a.i(8189),e=a.i(2278),f=a.i(7859),g=a.i(41921),h=a.i(7785),i=a.i(58142),j=a.i(55022),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/services/edit/[id]",pathname:"/admin/services/edit/[id]",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/services/edit/[id]",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=frontend_93a79818._.js.map