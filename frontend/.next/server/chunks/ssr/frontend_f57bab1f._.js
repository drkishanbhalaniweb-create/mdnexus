module.exports=[70351,a=>{"use strict";let b=(0,a.i(40541).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],70351)},15717,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(73170),g=a.i(87080),h=a.i(85273),i=a.i(57748),j=a.i(70351),k=a.i(90836),l=a.i(15887),m=a.i(34059),n=b([h,l]);[h,l]=n.then?(await n)():n,a.s(["default",0,()=>{let a=(0,f.useRouter)(),{id:b}=a.query,[c,n]=(0,e.useState)(!1),[o,p]=(0,e.useState)({title:"",slug:"",excerpt:"",challenge:"",solution:"",results:"",key_takeaway:"",is_published:!1,published_at:new Date().toISOString().split("T")[0],tags:[]}),[q,r]=(0,e.useState)({challenge:"",solution:"",results:"",key_takeaway:""}),s=(a,b)=>{r({...q,[a]:b}),p({...o,[a]:b?b.split("\n\n").map(a=>{if(!(a=a.trim()))return"";if(a.startsWith("## "))return`<h3>${a.substring(3)}</h3>`;if(a.startsWith("# "))return`<h2>${a.substring(2)}</h2>`;if(a.includes("\n-")||a.includes("\n*")||a.startsWith("-")||a.startsWith("*")){let b=a.split("\n").filter(a=>a.trim()).map(a=>{let b=a.replace(/^[-*]\s*/,"").trim();return b?`<li>${b}</li>`:""}).filter(Boolean).join("");return`<ul>${b}</ul>`}return`<p>${a}</p>`}).join(""):""})},t=a=>{let{name:b,value:c,type:d,checked:e}=a.target;p({...o,[b]:"checkbox"===d?e:c})},u=async b=>{if(b.preventDefault(),!o.challenge||!q.challenge.trim())return void l.toast.error("Challenge is required");n(!0);try{let b={title:o.title,slug:o.slug,excerpt:o.excerpt,content_html:o.challenge,challenge:o.challenge,solution:o.solution||null,results:o.results||null,key_takeaway:o.key_takeaway||null,tags:o.tags||[],is_published:o.is_published,published_at:o.published_at+"T00:00:00Z"},{error:c}=await g.supabase.from("case_studies").insert([b]);if(c)throw c;l.toast.success("Case study created successfully!"),a.push("/admin/case-studies")}catch(a){console.error("Error saving case study:",a),l.toast.error("Failed to save case study: "+a.message)}finally{n(!1)}};return(0,d.jsx)(i.default,{children:(0,d.jsxs)(h.default,{children:[(0,d.jsx)(m.default,{title:"New Case Study",noindex:!0}),(0,d.jsxs)("div",{className:"max-w-4xl",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"New Case Study"}),(0,d.jsx)("button",{onClick:()=>a.push("/admin/case-studies"),className:"text-slate-600 hover:text-slate-900",children:(0,d.jsx)(k.X,{className:"w-6 h-6"})})]}),(0,d.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Case Study Details"}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Title *"}),(0,d.jsx)("input",{type:"text",name:"title",value:o.title,onChange:a=>{let b=a.target.value;p({...o,title:b,slug:b.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")})},required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Slug (URL) *"}),(0,d.jsx)("input",{type:"text",name:"slug",value:o.slug,onChange:t,required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Excerpt *"}),(0,d.jsx)("textarea",{name:"excerpt",value:o.excerpt,onChange:t,required:!0,rows:"3",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Brief summary of the case study..."})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Tags"}),(0,d.jsx)("div",{className:"flex flex-wrap gap-2",children:["SMC/Aid & Attendance","Primary Service Connection","Secondary Service Connection","Mental Health Claim","1151 Claim","Claim Readiness Review"].map(a=>(0,d.jsx)("button",{type:"button",onClick:()=>{let b,c;return c=(b=o.tags||[]).includes(a)?b.filter(b=>b!==a):[...b,a],void p({...o,tags:c})},className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${(o.tags||[]).includes(a)?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:a},a))})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Published Date *"}),(0,d.jsx)("input",{type:"date",name:"published_at",value:o.published_at,onChange:t,required:!0,className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,d.jsx)("input",{type:"checkbox",name:"is_published",checked:o.is_published,onChange:t,className:"w-5 h-5 text-indigo-600 border-slate-300 rounded focus:ring-indigo-500"}),(0,d.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:"Published"})]})})]})]})]}),(0,d.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-slate-200",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-slate-900 mb-4",children:"Content Sections"}),(0,d.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:'Use bullet points with "- " at the start of each line. Use blank lines between paragraphs.'}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:["Challenge * ",(0,d.jsx)("span",{className:"text-red-500",children:"(Required)"})]}),(0,d.jsx)("textarea",{value:q.challenge,onChange:a=>s("challenge",a.target.value),required:!0,rows:"6",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"Describe the challenge or problem...  Use bullet points: - First point - Second point"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"What Existed Before (Optional)"}),(0,d.jsx)("textarea",{value:q.solution,onChange:a=>s("solution",a.target.value),rows:"6",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"Describe what existed before or previous attempts...  Use bullet points: - First point - Second point"})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Our Contribution (Optional)"}),(0,d.jsx)("textarea",{value:q.results,onChange:a=>s("results",a.target.value),rows:"6",className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 font-mono text-sm",placeholder:"Describe our contribution and outcomes...  Use bullet points: - First point - Second point"})]}),(0,d.jsxs)("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[(0,d.jsx)("label",{className:"block text-sm font-semibold text-amber-800 mb-2",children:"Key Takeaway (Optional) - Yellow Highlight Box"}),(0,d.jsx)("textarea",{value:q.key_takeaway,onChange:a=>s("key_takeaway",a.target.value),rows:"4",className:"w-full px-4 py-2 border border-amber-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-500 font-mono text-sm bg-white",placeholder:"Key takeaway or important note to highlight...  Use bullet points: - First point - Second point"}),(0,d.jsx)("p",{className:"text-xs text-amber-600 mt-1",children:"This will appear in a yellow highlighted box on the public page"})]})]})]}),(0,d.jsxs)("div",{className:"flex items-center justify-end space-x-4",children:[(0,d.jsx)("button",{type:"button",onClick:()=>a.push("/admin/case-studies"),className:"px-6 py-2 border border-slate-300 rounded-lg text-slate-700 hover:bg-slate-50 transition-colors",children:"Cancel"}),(0,d.jsxs)("button",{type:"submit",disabled:c,className:"flex items-center space-x-2 bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50",children:[(0,d.jsx)(j.Save,{className:"w-5 h-5"}),(0,d.jsx)("span",{children:c?"Saving...":"Save Case Study"})]})]})]})]})]})})}]),c()}catch(a){c(a)}},!1),13014,a=>a.a(async(b,c)=>{try{var d=a.i(8189),e=a.i(2278),f=a.i(7859),g=a.i(41921),h=a.i(7785),i=a.i(15717),j=a.i(55022),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/admin/case-studies/new",pathname:"/admin/case-studies/new",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/admin/case-studies/new",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=frontend_f57bab1f._.js.map