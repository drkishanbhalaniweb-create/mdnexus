module.exports=[5953,a=>{"use strict";var b=a.i(8171),c=a.i(27669);let d={veteranName:{label:"Veteran's Full Name",section:"Personal Information"},veteranSSN:{label:"Social Security Number",section:"Personal Information"},veteranDOB:{label:"Date of Birth",section:"Personal Information"},veteranPhone:{label:"Phone Number",section:"Personal Information"},veteranEmail:{label:"Email Address",section:"Personal Information"},contactName:{label:"Contact Name",section:"Contact Person"},contactPhone:{label:"Contact Phone",section:"Contact Person"},contactEmail:{label:"Contact Email",section:"Contact Person"},contactRelationship:{label:"Relationship to Veteran",section:"Contact Person"},primaryDiagnosis:{label:"Primary Diagnosis",section:"Medical Information"},secondaryDiagnoses:{label:"Secondary Diagnoses",section:"Medical Information"},currentMedications:{label:"Current Medications",section:"Medical Information"},physicianName:{label:"Primary Physician",section:"Medical Information"},physicianPhone:{label:"Physician Phone",section:"Medical Information"},lastExamDate:{label:"Last Medical Exam",section:"Medical Information"},bathing:{label:"Bathing/Showering",section:"Activities of Daily Living"},dressing:{label:"Dressing/Undressing",section:"Activities of Daily Living"},eating:{label:"Eating/Feeding",section:"Activities of Daily Living"},toileting:{label:"Toileting",section:"Activities of Daily Living"},mobility:{label:"Walking/Mobility",section:"Activities of Daily Living"},transferring:{label:"Transferring",section:"Activities of Daily Living"},continence:{label:"Continence Control",section:"Activities of Daily Living"},supervisionNeeded:{label:"Supervision Level",section:"Care Requirements"},assistanceHours:{label:"Daily Assistance Hours",section:"Care Requirements"},caregiverInfo:{label:"Current Caregiver",section:"Care Requirements"},additionalInfo:{label:"Additional Details",section:"Additional Information"},rushService:{label:"Rush Service",section:"Additional Information"},serviceType:{label:"Service Type",section:"Additional Information"}},e={fullName:{label:"Full Name",section:"Contact Information"},email:{label:"Email",section:"Contact Information"},phone:{label:"Phone",section:"Contact Information"},formType:{label:"Form Type",section:"Request Details"},briefSummary:{label:"Brief Summary",section:"Request Details"}},f=(a,b=null)=>{let c=(a=>{switch(a){case"aid-attendance":case"aid_attendance":return d;case"quick-intake":case"quick_intake":return e;default:return null}})(b),f={};return Object.entries(a).forEach(([a,b])=>{if(null==b||""===b)return;let d="General Information",e=a.replace(/([A-Z])/g," $1").replace(/_/g," ").split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" ").trim();c&&c[a]&&(d=c[a].section,e=c[a].label),f[d]||(f[d]=[]),f[d].push({key:a,label:e,value:((a,b)=>{if(null==b||""===b)return"Not provided";if("boolean"==typeof b)return b?"Yes":"No";if(Array.isArray(b))return b.length>0?b.join(", "):"Not provided";if("object"==typeof b)return JSON.stringify(b,null,2);if(a.toLowerCase().includes("date")||a.toLowerCase().includes("dob")){let a=new Date(b);if(!isNaN(a.getTime()))return a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}if(a.toLowerCase().includes("phone")){let a=b.toString().replace(/\D/g,"");if(10===a.length)return`(${a.slice(0,3)}) ${a.slice(3,6)}-${a.slice(6)}`}if(a.toLowerCase().includes("ssn")){let a=b.toString().replace(/\D/g,"");if(9===a.length)return`***-**-${a.slice(5)}`}return b.toString()})(a,b),rawValue:b})}),Object.entries(f).map(([a,b])=>({title:a,fields:b}))},g=c.default.memo(({data:a,formType:c=null,className:d=""})=>{if(!a)return(0,b.jsx)("div",{className:`text-slate-500 text-sm ${d}`,children:"No data available"});let e=((a,b=null)=>{if("object"==typeof a&&null!==a)return{isJSON:!0,sections:f(a,b),rawData:a};if("string"==typeof a){if((a=>{if("string"!=typeof a)return!1;try{let b=JSON.parse(a);return"object"==typeof b&&null!==b}catch(a){return!1}})(a)){let c=(a=>{try{return JSON.parse(a)}catch(a){return console.error("JSON parsing error:",a),null}})(a);if(c)return{isJSON:!0,sections:f(c,b),rawData:c}}return{isJSON:!1,sections:[{title:"Message",fields:[{key:"message",label:"Message",value:a,rawValue:a}]}],rawData:a}}return{isJSON:!1,sections:[{title:"Data",fields:[{key:"data",label:"Data",value:"Unable to parse data",rawValue:a}]}],rawData:a}})(a,c);if(!e.sections||0===e.sections.length)return(0,b.jsx)("div",{className:`text-slate-500 text-sm ${d}`,children:"Unable to parse form data"});let g=(a=>{if(!a)return null;switch(a.toLowerCase().replace("_","-")){case"aid-attendance":return"Aid & Attendance Form";case"quick-intake":return"Quick Intake Form";default:return a.split(/[-_]/).map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")+" Form"}})(c);return(0,b.jsxs)("div",{className:`space-y-6 ${d}`,children:[g&&(0,b.jsx)("div",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800",children:g}),e.sections.map((a,c)=>(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-slate-900 border-b border-slate-200 pb-2",children:a.title}),(0,b.jsx)("div",{className:"space-y-3",children:a.fields.map((a,c)=>(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-slate-700",children:a.label}),(0,b.jsx)("div",{className:"sm:col-span-2 text-sm text-slate-900",children:"string"==typeof a.value&&a.value.includes("\n")?(0,b.jsx)("pre",{className:"whitespace-pre-wrap font-sans",children:a.value}):(0,b.jsx)("span",{children:a.value})})]},c))})]},c))]})});g.displayName="FormDataParser",a.s(["default",0,g],5953)},21265,a=>{"use strict";let b={"image/jpeg":"image","image/jpg":"image","image/png":"image","image/gif":"image","image/webp":"image","image/svg+xml":"image","image/bmp":"image","application/pdf":"pdf","application/msword":"document","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"document","application/vnd.ms-excel":"document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"document","application/vnd.ms-powerpoint":"document","application/vnd.openxmlformats-officedocument.presentationml.presentation":"document","text/plain":"document","text/csv":"document","application/zip":"archive","application/x-rar-compressed":"archive","application/x-7z-compressed":"archive","application/x-tar":"archive","application/gzip":"archive"},c=a=>{if(!a||"string"!=typeof a)return"";let b=a.split(".");return b.length<2?"":b[b.length-1].toLowerCase()},d=a=>a&&b[a.toLowerCase().trim()]||"unknown";a.s(["canPreview",0,a=>{let b=d(a);return"image"===b||"pdf"===b},"formatFileSize",0,a=>{if(!a||0===a)return"0 Bytes";let b=Math.floor(Math.log(a)/Math.log(1024));return Math.round(a/Math.pow(1024,b)*100)/100+" "+["Bytes","KB","MB","GB","TB"][b]},"getFileIcon",0,a=>{switch(d(a)){case"image":return"Image";case"pdf":case"document":return"FileText";case"archive":return"Archive";default:return"File"}},"getFileTypeLabel",0,(a,b="")=>{switch(d(a)){case"image":return"Image";case"pdf":return"PDF Document";case"document":let e=c(b).toUpperCase();if("DOC"===e||"DOCX"===e)return"Word Document";if("XLS"===e||"XLSX"===e)return"Excel Spreadsheet";if("PPT"===e||"PPTX"===e)return"PowerPoint Presentation";if("TXT"===e)return"Text File";if("CSV"===e)return"CSV File";return"Document";case"archive":return"Archive";default:let f=c(b);return f?`${f.toUpperCase()} File`:"Unknown File"}},"getPreviewType",0,a=>"image"===d(a)?"image":"pdf"===d(a)?"pdf":"none"])},15665,a=>{"use strict";let b=(0,a.i(40541).default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);a.s(["Archive",()=>b],15665)},18060,a=>{"use strict";var b=a.i(8171);a.i(27669),a.s(["FileListSkeleton",0,({count:a=3})=>(0,b.jsx)("div",{className:"space-y-3",children:Array.from({length:a}).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200 animate-pulse",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,b.jsx)("div",{className:"w-8 h-8 bg-slate-300 rounded"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-slate-300 rounded w-3/4"}),(0,b.jsx)("div",{className:"h-3 bg-slate-200 rounded w-1/2"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("div",{className:"w-9 h-9 bg-slate-300 rounded-lg"}),(0,b.jsx)("div",{className:"w-9 h-9 bg-slate-300 rounded-lg"})]})]},c))}),"TableRowSkeleton",0,({columns:a=7,rows:c=5})=>(0,b.jsx)(b.Fragment,{children:Array.from({length:c}).map((c,d)=>(0,b.jsx)("tr",{className:"animate-pulse",children:Array.from({length:a}).map((a,c)=>(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"h-4 bg-slate-200 rounded w-full"})},c))},d))})])},109,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(49933),g=a.i(21265),h=a.i(24260),i=a.i(72818),j=a.i(77682),k=a.i(15665),l=a.i(85678),m=a.i(36238),n=a.i(54607),o=a.i(15887),p=a.i(18060),q=b([o]);[o]=q.then?(await q)():q;let r=e.default.memo(({contactId:a=null,formSubmissionId:b=null,onFileClick:c=null,className:q=""})=>{let[r,s]=(0,e.useState)([]),[t,u]=(0,e.useState)(!0),[v,w]=(0,e.useState)(null);(0,e.useEffect)(()=>{x()},[a,b]);let x=async()=>{u(!0),w(null);try{let c=await f.fileUploadApi.getAll(a,b);s(c)}catch(a){console.error("Error fetching files:",a),w("Failed to load documents"),o.toast.error("Failed to load documents")}finally{u(!1)}},y=async(a,b)=>{b.stopPropagation();try{let b=await f.fileUploadApi.getDownloadUrl(a.storage_path),c=document.createElement("a");c.href=b,c.download=a.original_filename,document.body.appendChild(c),c.click(),document.body.removeChild(c),o.toast.success("Download started")}catch(a){console.error("Error downloading file:",a),o.toast.error("Failed to download file")}};return t?(0,d.jsx)("div",{className:q,children:(0,d.jsx)(p.FileListSkeleton,{count:3})}):v?(0,d.jsxs)("div",{className:`text-center py-12 ${q}`,children:[(0,d.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-4",children:(0,d.jsx)(n.AlertCircle,{className:"w-6 h-6 text-red-600"})}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"Failed to Load Documents"}),(0,d.jsx)("p",{className:"text-slate-600 mb-6",children:v}),(0,d.jsx)("button",{onClick:x,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Try Again"})]}):0===r.length?(0,d.jsxs)("div",{className:`text-center py-12 ${q}`,children:[(0,d.jsx)(h.File,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),(0,d.jsx)("p",{className:"text-slate-500 text-sm",children:"No documents uploaded"})]}):(0,d.jsx)("div",{className:`space-y-3 ${q}`,children:r.map(a=>{let b,e=(a=>{switch((0,g.getFileIcon)(a)){case"Image":return j.Image;case"FileText":return i.FileText;case"Archive":return k.Archive;default:return h.File}})(a.mime_type),f=(0,g.getFileTypeLabel)(a.mime_type,a.original_filename),n=(0,g.formatFileSize)(a.file_size),o=(b=a.created_at,new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}));return(0,d.jsxs)("div",{className:"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200 hover:bg-slate-100 transition-colors",children:[(0,d.jsxs)("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)(e,{className:"w-8 h-8 text-indigo-600"})}),(0,d.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,d.jsx)("h4",{className:"text-sm font-medium text-slate-900 truncate",children:a.original_filename}),(0,d.jsxs)("div",{className:"flex items-center space-x-3 mt-1 text-xs text-slate-500",children:[(0,d.jsx)("span",{children:f}),(0,d.jsx)("span",{children:"•"}),(0,d.jsx)("span",{children:n}),(0,d.jsx)("span",{children:"•"}),(0,d.jsx)("span",{children:o})]}),a.file_category&&"other"!==a.file_category&&(0,d.jsx)("div",{className:"mt-1",children:(0,d.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-100 text-indigo-800",children:a.file_category.replace("_"," ")})})]})]}),(0,d.jsxs)("div",{className:"flex items-center space-x-2 ml-4",children:[c&&(0,d.jsx)("button",{onClick:()=>c(a),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Preview file","aria-label":`Preview ${a.original_filename}`,children:(0,d.jsx)(m.Eye,{className:"w-5 h-5","aria-hidden":"true"})}),(0,d.jsx)("button",{onClick:b=>y(a,b),className:"p-2 text-slate-600 hover:bg-slate-200 rounded-lg transition-colors",title:"Download file","aria-label":`Download ${a.original_filename}`,children:(0,d.jsx)(l.Download,{className:"w-5 h-5","aria-hidden":"true"})})]})]},a.id)})})});r.displayName="DocumentViewer",a.s(["default",0,r]),c()}catch(a){c(a)}},!1),22114,a=>{"use strict";var b=a.i(8171),c=a.i(27669),d=a.i(90836),e=a.i(85678),f=a.i(1341),g=a.i(54607),h=a.i(49933),i=a.i(21265);a.s(["default",0,({file:a,isOpen:j,onClose:k})=>{let[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(null);(0,c.useEffect)(()=>{if(!j||!a){m(null),o(!0),q(null);return}(async()=>{o(!0),q(null);try{let b=await h.fileUploadApi.getDownloadUrl(a.storage_path);m(b)}catch(a){console.error("Error generating signed URL:",a),q("Failed to load file. Please try again.")}finally{o(!1)}})()},[j,a]),(0,c.useEffect)(()=>{let a=a=>{"Escape"===a.key&&j&&k()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[j,k]),(0,c.useEffect)(()=>(j?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[j]);let r=(0,c.useCallback)(a=>{a.target===a.currentTarget&&k()},[k]),s=(0,c.useCallback)(()=>{if(!l)return;let b=document.createElement("a");b.href=l,b.download=a.original_filename,document.body.appendChild(b),b.click(),document.body.removeChild(b)},[l,a]);if(!j)return null;let t=(0,i.getPreviewType)(a.mime_type),u=(0,i.getFileTypeLabel)(a.mime_type,a.original_filename);return(0,i.canPreview)(a.mime_type),(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",onClick:r,role:"dialog","aria-modal":"true","aria-labelledby":"file-preview-title",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg sm:rounded-xl max-w-5xl w-full max-h-[95vh] sm:max-h-[90vh] flex flex-col shadow-2xl",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-slate-200",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h2",{id:"file-preview-title",className:"text-base sm:text-lg font-semibold text-slate-900 truncate",title:a.original_filename,children:a.original_filename}),(0,b.jsx)("p",{className:"text-xs sm:text-sm text-slate-500 mt-1",children:u})]}),(0,b.jsx)("button",{onClick:k,className:"ml-2 sm:ml-4 text-slate-400 hover:text-slate-600 transition-colors flex-shrink-0","aria-label":"Close preview",children:(0,b.jsx)(d.X,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-auto p-3 sm:p-6 bg-slate-50",children:[n&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px]",children:[(0,b.jsx)(f.Loader2,{className:"w-12 h-12 text-indigo-600 animate-spin"}),(0,b.jsx)("p",{className:"text-slate-600 mt-4",children:"Loading preview..."})]}),p&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px]",children:[(0,b.jsx)(g.AlertCircle,{className:"w-12 h-12 text-red-500"}),(0,b.jsx)("p",{className:"text-slate-900 font-medium mt-4",children:p}),(0,b.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Retry"})]}),!n&&!p&&l&&(0,b.jsxs)(b.Fragment,{children:["pdf"===t&&(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden h-full min-h-[400px] sm:min-h-[600px]",children:(0,b.jsx)("iframe",{src:l,className:"w-full h-full min-h-[400px] sm:min-h-[600px]",title:`PDF preview of ${a.original_filename}`,"aria-label":"PDF document preview"})}),"image"===t&&(0,b.jsx)("div",{className:"flex items-center justify-center",children:(0,b.jsx)("img",{src:l,alt:a.original_filename,className:"max-w-full h-auto rounded-lg shadow-lg",style:{maxHeight:"70vh"}})}),"none"===t&&(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-full min-h-[400px]",children:[(0,b.jsx)(g.AlertCircle,{className:"w-12 h-12 text-slate-400"}),(0,b.jsx)("p",{className:"text-slate-900 font-medium mt-4",children:"Preview not available"}),(0,b.jsx)("p",{className:"text-slate-600 mt-2",children:"This file type cannot be previewed in the browser."}),(0,b.jsx)("p",{className:"text-slate-600",children:"Please download the file to view it."})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col-reverse sm:flex-row items-stretch sm:items-center justify-between gap-2 sm:gap-0 p-3 sm:p-4 border-t border-slate-200 bg-white",children:[(0,b.jsxs)("button",{onClick:s,disabled:!l||n,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors text-sm sm:text-base","aria-label":"Download file",children:[(0,b.jsx)(e.Download,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Download"})]}),(0,b.jsx)("button",{onClick:k,className:"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors text-sm sm:text-base",children:"Close"})]})]})})}])},26165,a=>{"use strict";var b=a.i(8171),c=a.i(27669),d=a.i(54607);let e=(0,a.i(40541).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);class f extends c.default.Component{constructor(a){super(a),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0}}componentDidCatch(a,b){console.error("ErrorBoundary caught an error:",a,b),this.setState({error:a,errorInfo:b})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),this.props.onReset&&this.props.onReset()};render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,b.jsx)("div",{className:"min-h-[400px] flex items-center justify-center p-6",children:(0,b.jsxs)("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg border border-red-200 p-8",children:[(0,b.jsx)("div",{className:"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-4",children:(0,b.jsx)(d.AlertCircle,{className:"w-6 h-6 text-red-600"})}),(0,b.jsx)("h2",{className:"text-xl font-bold text-slate-900 text-center mb-2",children:"Something went wrong"}),(0,b.jsx)("p",{className:"text-slate-600 text-center mb-6",children:this.props.errorMessage||"An unexpected error occurred. Please try again."}),!1,(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsxs)("button",{onClick:this.handleReset,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[(0,b.jsx)(e,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Try Again"})]}),(0,b.jsx)("button",{onClick:()=>window.location.href="/admin/dashboard",className:"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors",children:"Go to Dashboard"})]})]})}):this.props.children}}a.s(["default",0,f],26165)},61877,a=>{"use strict";var b=a.i(27669);function c(a,d=500){let[e,f]=(0,b.useState)(a);return(0,b.useEffect)(()=>{let b=setTimeout(()=>{f(a)},d);return()=>{clearTimeout(b)}},[a,d]),e}a.s(["useDebounce",()=>c])}];

//# sourceMappingURL=frontend_ff061348._.js.map