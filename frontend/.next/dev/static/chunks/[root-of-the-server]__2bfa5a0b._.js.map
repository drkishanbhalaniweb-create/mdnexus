{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["turbopack:///[turbopack]/browser/dev/hmr-client/hmr-client.ts"],"sourcesContent":["/// <reference path=\"../../../shared/runtime-types.d.ts\" />\r\n/// <reference path=\"../../runtime/base/dev-globals.d.ts\" />\r\n/// <reference path=\"../../runtime/base/dev-protocol.d.ts\" />\r\n/// <reference path=\"../../runtime/base/dev-extensions.ts\" />\r\n\r\ntype SendMessage = (msg: any) => void\r\nexport type WebSocketMessage =\r\n  | {\r\n      type: 'turbopack-connected'\r\n    }\r\n  | {\r\n      type: 'turbopack-message'\r\n      data: Record<string, any>\r\n    }\r\n\r\nexport type ClientOptions = {\r\n  addMessageListener: (cb: (msg: WebSocketMessage) => void) => void\r\n  sendMessage: SendMessage\r\n  onUpdateError: (err: unknown) => void\r\n}\r\n\r\nexport function connect({\r\n  addMessageListener,\r\n  sendMessage,\r\n  onUpdateError = console.error,\r\n}: ClientOptions) {\r\n  addMessageListener((msg) => {\r\n    switch (msg.type) {\r\n      case 'turbopack-connected':\r\n        handleSocketConnected(sendMessage)\r\n        break\r\n      default:\r\n        try {\r\n          if (Array.isArray(msg.data)) {\r\n            for (let i = 0; i < msg.data.length; i++) {\r\n              handleSocketMessage(msg.data[i] as ServerMessage)\r\n            }\r\n          } else {\r\n            handleSocketMessage(msg.data as ServerMessage)\r\n          }\r\n          applyAggregatedUpdates()\r\n        } catch (e: unknown) {\r\n          console.warn(\r\n            '[Fast Refresh] performing full reload\\n\\n' +\r\n              \"Fast Refresh will perform a full reload when you edit a file that's imported by modules outside of the React rendering tree.\\n\" +\r\n              'You might have a file which exports a React component but also exports a value that is imported by a non-React component file.\\n' +\r\n              'Consider migrating the non-React component export to a separate file and importing it into both files.\\n\\n' +\r\n              'It is also possible the parent component of the component you edited is a class component, which disables Fast Refresh.\\n' +\r\n              'Fast Refresh requires at least one parent function component in your React tree.'\r\n          )\r\n          onUpdateError(e)\r\n          location.reload()\r\n        }\r\n        break\r\n    }\r\n  })\r\n\r\n  const queued = globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS\r\n  if (queued != null && !Array.isArray(queued)) {\r\n    throw new Error('A separate HMR handler was already registered')\r\n  }\r\n  globalThis.TURBOPACK_CHUNK_UPDATE_LISTENERS = {\r\n    push: ([chunkPath, callback]: [ChunkListPath, UpdateCallback]) => {\r\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\r\n    },\r\n  }\r\n\r\n  if (Array.isArray(queued)) {\r\n    for (const [chunkPath, callback] of queued) {\r\n      subscribeToChunkUpdate(chunkPath, sendMessage, callback)\r\n    }\r\n  }\r\n}\r\n\r\ntype UpdateCallbackSet = {\r\n  callbacks: Set<UpdateCallback>\r\n  unsubscribe: () => void\r\n}\r\n\r\nconst updateCallbackSets: Map<ResourceKey, UpdateCallbackSet> = new Map()\r\n\r\nfunction sendJSON(sendMessage: SendMessage, message: ClientMessage) {\r\n  sendMessage(JSON.stringify(message))\r\n}\r\n\r\ntype ResourceKey = string\r\n\r\nfunction resourceKey(resource: ResourceIdentifier): ResourceKey {\r\n  return JSON.stringify({\r\n    path: resource.path,\r\n    headers: resource.headers || null,\r\n  })\r\n}\r\n\r\nfunction subscribeToUpdates(\r\n  sendMessage: SendMessage,\r\n  resource: ResourceIdentifier\r\n): () => void {\r\n  sendJSON(sendMessage, {\r\n    type: 'turbopack-subscribe',\r\n    ...resource,\r\n  })\r\n\r\n  return () => {\r\n    sendJSON(sendMessage, {\r\n      type: 'turbopack-unsubscribe',\r\n      ...resource,\r\n    })\r\n  }\r\n}\r\n\r\nfunction handleSocketConnected(sendMessage: SendMessage) {\r\n  for (const key of updateCallbackSets.keys()) {\r\n    subscribeToUpdates(sendMessage, JSON.parse(key))\r\n  }\r\n}\r\n\r\n// we aggregate all pending updates until the issues are resolved\r\nconst chunkListsWithPendingUpdates: Map<ResourceKey, PartialServerMessage> =\r\n  new Map()\r\n\r\nfunction aggregateUpdates(msg: PartialServerMessage) {\r\n  const key = resourceKey(msg.resource)\r\n  let aggregated = chunkListsWithPendingUpdates.get(key)\r\n\r\n  if (aggregated) {\r\n    aggregated.instruction = mergeChunkListUpdates(\r\n      aggregated.instruction,\r\n      msg.instruction\r\n    )\r\n  } else {\r\n    chunkListsWithPendingUpdates.set(key, msg)\r\n  }\r\n}\r\n\r\nfunction applyAggregatedUpdates() {\r\n  if (chunkListsWithPendingUpdates.size === 0) return\r\n  hooks.beforeRefresh()\r\n  for (const msg of chunkListsWithPendingUpdates.values()) {\r\n    triggerUpdate(msg)\r\n  }\r\n  chunkListsWithPendingUpdates.clear()\r\n  finalizeUpdate()\r\n}\r\n\r\nfunction mergeChunkListUpdates(\r\n  updateA: ChunkListUpdate,\r\n  updateB: ChunkListUpdate\r\n): ChunkListUpdate {\r\n  let chunks\r\n  if (updateA.chunks != null) {\r\n    if (updateB.chunks == null) {\r\n      chunks = updateA.chunks\r\n    } else {\r\n      chunks = mergeChunkListChunks(updateA.chunks, updateB.chunks)\r\n    }\r\n  } else if (updateB.chunks != null) {\r\n    chunks = updateB.chunks\r\n  }\r\n\r\n  let merged\r\n  if (updateA.merged != null) {\r\n    if (updateB.merged == null) {\r\n      merged = updateA.merged\r\n    } else {\r\n      // Since `merged` is an array of updates, we need to merge them all into\r\n      // one, consistent update.\r\n      // Since there can only be `EcmascriptMergeUpdates` in the array, there is\r\n      // no need to key on the `type` field.\r\n      let update = updateA.merged[0]\r\n      for (let i = 1; i < updateA.merged.length; i++) {\r\n        update = mergeChunkListEcmascriptMergedUpdates(\r\n          update,\r\n          updateA.merged[i]\r\n        )\r\n      }\r\n\r\n      for (let i = 0; i < updateB.merged.length; i++) {\r\n        update = mergeChunkListEcmascriptMergedUpdates(\r\n          update,\r\n          updateB.merged[i]\r\n        )\r\n      }\r\n\r\n      merged = [update]\r\n    }\r\n  } else if (updateB.merged != null) {\r\n    merged = updateB.merged\r\n  }\r\n\r\n  return {\r\n    type: 'ChunkListUpdate',\r\n    chunks,\r\n    merged,\r\n  }\r\n}\r\n\r\nfunction mergeChunkListChunks(\r\n  chunksA: Record<ChunkPath, ChunkUpdate>,\r\n  chunksB: Record<ChunkPath, ChunkUpdate>\r\n): Record<ChunkPath, ChunkUpdate> {\r\n  const chunks: Record<ChunkPath, ChunkUpdate> = {}\r\n\r\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\r\n    [ChunkPath, ChunkUpdate]\r\n  >) {\r\n    const chunkUpdateB = chunksB[chunkPath]\r\n    if (chunkUpdateB != null) {\r\n      const mergedUpdate = mergeChunkUpdates(chunkUpdateA, chunkUpdateB)\r\n      if (mergedUpdate != null) {\r\n        chunks[chunkPath] = mergedUpdate\r\n      }\r\n    } else {\r\n      chunks[chunkPath] = chunkUpdateA\r\n    }\r\n  }\r\n\r\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\r\n    [ChunkPath, ChunkUpdate]\r\n  >) {\r\n    if (chunks[chunkPath] == null) {\r\n      chunks[chunkPath] = chunkUpdateB\r\n    }\r\n  }\r\n\r\n  return chunks\r\n}\r\n\r\nfunction mergeChunkUpdates(\r\n  updateA: ChunkUpdate,\r\n  updateB: ChunkUpdate\r\n): ChunkUpdate | undefined {\r\n  if (\r\n    (updateA.type === 'added' && updateB.type === 'deleted') ||\r\n    (updateA.type === 'deleted' && updateB.type === 'added')\r\n  ) {\r\n    return undefined\r\n  }\r\n\r\n  if (updateA.type === 'partial') {\r\n    invariant(updateA.instruction, 'Partial updates are unsupported')\r\n  }\r\n\r\n  if (updateB.type === 'partial') {\r\n    invariant(updateB.instruction, 'Partial updates are unsupported')\r\n  }\r\n\r\n  return undefined\r\n}\r\n\r\nfunction mergeChunkListEcmascriptMergedUpdates(\r\n  mergedA: EcmascriptMergedUpdate,\r\n  mergedB: EcmascriptMergedUpdate\r\n): EcmascriptMergedUpdate {\r\n  const entries = mergeEcmascriptChunkEntries(mergedA.entries, mergedB.entries)\r\n  const chunks = mergeEcmascriptChunksUpdates(mergedA.chunks, mergedB.chunks)\r\n\r\n  return {\r\n    type: 'EcmascriptMergedUpdate',\r\n    entries,\r\n    chunks,\r\n  }\r\n}\r\n\r\nfunction mergeEcmascriptChunkEntries(\r\n  entriesA: Record<ModuleId, EcmascriptModuleEntry> | undefined,\r\n  entriesB: Record<ModuleId, EcmascriptModuleEntry> | undefined\r\n): Record<ModuleId, EcmascriptModuleEntry> {\r\n  return { ...entriesA, ...entriesB }\r\n}\r\n\r\nfunction mergeEcmascriptChunksUpdates(\r\n  chunksA: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined,\r\n  chunksB: Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined\r\n): Record<ChunkPath, EcmascriptMergedChunkUpdate> | undefined {\r\n  if (chunksA == null) {\r\n    return chunksB\r\n  }\r\n\r\n  if (chunksB == null) {\r\n    return chunksA\r\n  }\r\n\r\n  const chunks: Record<ChunkPath, EcmascriptMergedChunkUpdate> = {}\r\n\r\n  for (const [chunkPath, chunkUpdateA] of Object.entries(chunksA) as Array<\r\n    [ChunkPath, EcmascriptMergedChunkUpdate]\r\n  >) {\r\n    const chunkUpdateB = chunksB[chunkPath]\r\n    if (chunkUpdateB != null) {\r\n      const mergedUpdate = mergeEcmascriptChunkUpdates(\r\n        chunkUpdateA,\r\n        chunkUpdateB\r\n      )\r\n      if (mergedUpdate != null) {\r\n        chunks[chunkPath] = mergedUpdate\r\n      }\r\n    } else {\r\n      chunks[chunkPath] = chunkUpdateA\r\n    }\r\n  }\r\n\r\n  for (const [chunkPath, chunkUpdateB] of Object.entries(chunksB) as Array<\r\n    [ChunkPath, EcmascriptMergedChunkUpdate]\r\n  >) {\r\n    if (chunks[chunkPath] == null) {\r\n      chunks[chunkPath] = chunkUpdateB\r\n    }\r\n  }\r\n\r\n  if (Object.keys(chunks).length === 0) {\r\n    return undefined\r\n  }\r\n\r\n  return chunks\r\n}\r\n\r\nfunction mergeEcmascriptChunkUpdates(\r\n  updateA: EcmascriptMergedChunkUpdate,\r\n  updateB: EcmascriptMergedChunkUpdate\r\n): EcmascriptMergedChunkUpdate | undefined {\r\n  if (updateA.type === 'added' && updateB.type === 'deleted') {\r\n    // These two completely cancel each other out.\r\n    return undefined\r\n  }\r\n\r\n  if (updateA.type === 'deleted' && updateB.type === 'added') {\r\n    const added = []\r\n    const deleted = []\r\n    const deletedModules = new Set(updateA.modules ?? [])\r\n    const addedModules = new Set(updateB.modules ?? [])\r\n\r\n    for (const moduleId of addedModules) {\r\n      if (!deletedModules.has(moduleId)) {\r\n        added.push(moduleId)\r\n      }\r\n    }\r\n\r\n    for (const moduleId of deletedModules) {\r\n      if (!addedModules.has(moduleId)) {\r\n        deleted.push(moduleId)\r\n      }\r\n    }\r\n\r\n    if (added.length === 0 && deleted.length === 0) {\r\n      return undefined\r\n    }\r\n\r\n    return {\r\n      type: 'partial',\r\n      added,\r\n      deleted,\r\n    }\r\n  }\r\n\r\n  if (updateA.type === 'partial' && updateB.type === 'partial') {\r\n    const added = new Set([...(updateA.added ?? []), ...(updateB.added ?? [])])\r\n    const deleted = new Set([\r\n      ...(updateA.deleted ?? []),\r\n      ...(updateB.deleted ?? []),\r\n    ])\r\n\r\n    if (updateB.added != null) {\r\n      for (const moduleId of updateB.added) {\r\n        deleted.delete(moduleId)\r\n      }\r\n    }\r\n\r\n    if (updateB.deleted != null) {\r\n      for (const moduleId of updateB.deleted) {\r\n        added.delete(moduleId)\r\n      }\r\n    }\r\n\r\n    return {\r\n      type: 'partial',\r\n      added: [...added],\r\n      deleted: [...deleted],\r\n    }\r\n  }\r\n\r\n  if (updateA.type === 'added' && updateB.type === 'partial') {\r\n    const modules = new Set([\r\n      ...(updateA.modules ?? []),\r\n      ...(updateB.added ?? []),\r\n    ])\r\n\r\n    for (const moduleId of updateB.deleted ?? []) {\r\n      modules.delete(moduleId)\r\n    }\r\n\r\n    return {\r\n      type: 'added',\r\n      modules: [...modules],\r\n    }\r\n  }\r\n\r\n  if (updateA.type === 'partial' && updateB.type === 'deleted') {\r\n    // We could eagerly return `updateB` here, but this would potentially be\r\n    // incorrect if `updateA` has added modules.\r\n\r\n    const modules = new Set(updateB.modules ?? [])\r\n\r\n    if (updateA.added != null) {\r\n      for (const moduleId of updateA.added) {\r\n        modules.delete(moduleId)\r\n      }\r\n    }\r\n\r\n    return {\r\n      type: 'deleted',\r\n      modules: [...modules],\r\n    }\r\n  }\r\n\r\n  // Any other update combination is invalid.\r\n\r\n  return undefined\r\n}\r\n\r\nfunction invariant(_: never, message: string): never {\r\n  throw new Error(`Invariant: ${message}`)\r\n}\r\n\r\nconst CRITICAL = ['bug', 'error', 'fatal']\r\n\r\nfunction compareByList(list: any[], a: any, b: any) {\r\n  const aI = list.indexOf(a) + 1 || list.length\r\n  const bI = list.indexOf(b) + 1 || list.length\r\n  return aI - bI\r\n}\r\n\r\nconst chunksWithIssues: Map<ResourceKey, Issue[]> = new Map()\r\n\r\nfunction emitIssues() {\r\n  const issues = []\r\n  const deduplicationSet = new Set()\r\n\r\n  for (const [_, chunkIssues] of chunksWithIssues) {\r\n    for (const chunkIssue of chunkIssues) {\r\n      if (deduplicationSet.has(chunkIssue.formatted)) continue\r\n\r\n      issues.push(chunkIssue)\r\n      deduplicationSet.add(chunkIssue.formatted)\r\n    }\r\n  }\r\n\r\n  sortIssues(issues)\r\n\r\n  hooks.issues(issues)\r\n}\r\n\r\nfunction handleIssues(msg: ServerMessage): boolean {\r\n  const key = resourceKey(msg.resource)\r\n  let hasCriticalIssues = false\r\n\r\n  for (const issue of msg.issues) {\r\n    if (CRITICAL.includes(issue.severity)) {\r\n      hasCriticalIssues = true\r\n    }\r\n  }\r\n\r\n  if (msg.issues.length > 0) {\r\n    chunksWithIssues.set(key, msg.issues)\r\n  } else if (chunksWithIssues.has(key)) {\r\n    chunksWithIssues.delete(key)\r\n  }\r\n\r\n  emitIssues()\r\n\r\n  return hasCriticalIssues\r\n}\r\n\r\nconst SEVERITY_ORDER = ['bug', 'fatal', 'error', 'warning', 'info', 'log']\r\nconst CATEGORY_ORDER = [\r\n  'parse',\r\n  'resolve',\r\n  'code generation',\r\n  'rendering',\r\n  'typescript',\r\n  'other',\r\n]\r\n\r\nfunction sortIssues(issues: Issue[]) {\r\n  issues.sort((a, b) => {\r\n    const first = compareByList(SEVERITY_ORDER, a.severity, b.severity)\r\n    if (first !== 0) return first\r\n    return compareByList(CATEGORY_ORDER, a.category, b.category)\r\n  })\r\n}\r\n\r\nconst hooks = {\r\n  beforeRefresh: () => {},\r\n  refresh: () => {},\r\n  buildOk: () => {},\r\n  issues: (_issues: Issue[]) => {},\r\n}\r\n\r\nexport function setHooks(newHooks: typeof hooks) {\r\n  Object.assign(hooks, newHooks)\r\n}\r\n\r\nfunction handleSocketMessage(msg: ServerMessage) {\r\n  sortIssues(msg.issues)\r\n\r\n  handleIssues(msg)\r\n\r\n  switch (msg.type) {\r\n    case 'issues':\r\n      // issues are already handled\r\n      break\r\n    case 'partial':\r\n      // aggregate updates\r\n      aggregateUpdates(msg)\r\n      break\r\n    default:\r\n      // run single update\r\n      const runHooks = chunkListsWithPendingUpdates.size === 0\r\n      if (runHooks) hooks.beforeRefresh()\r\n      triggerUpdate(msg)\r\n      if (runHooks) finalizeUpdate()\r\n      break\r\n  }\r\n}\r\n\r\nfunction finalizeUpdate() {\r\n  hooks.refresh()\r\n  hooks.buildOk()\r\n\r\n  // This is used by the Next.js integration test suite to notify it when HMR\r\n  // updates have been completed.\r\n  // TODO: Only run this in test environments (gate by `process.env.__NEXT_TEST_MODE`)\r\n  if (globalThis.__NEXT_HMR_CB) {\r\n    globalThis.__NEXT_HMR_CB()\r\n    globalThis.__NEXT_HMR_CB = null\r\n  }\r\n}\r\n\r\nfunction subscribeToChunkUpdate(\r\n  chunkListPath: ChunkListPath,\r\n  sendMessage: SendMessage,\r\n  callback: UpdateCallback\r\n): () => void {\r\n  return subscribeToUpdate(\r\n    {\r\n      path: chunkListPath,\r\n    },\r\n    sendMessage,\r\n    callback\r\n  )\r\n}\r\n\r\nexport function subscribeToUpdate(\r\n  resource: ResourceIdentifier,\r\n  sendMessage: SendMessage,\r\n  callback: UpdateCallback\r\n) {\r\n  const key = resourceKey(resource)\r\n  let callbackSet: UpdateCallbackSet\r\n  const existingCallbackSet = updateCallbackSets.get(key)\r\n  if (!existingCallbackSet) {\r\n    callbackSet = {\r\n      callbacks: new Set([callback]),\r\n      unsubscribe: subscribeToUpdates(sendMessage, resource),\r\n    }\r\n    updateCallbackSets.set(key, callbackSet)\r\n  } else {\r\n    existingCallbackSet.callbacks.add(callback)\r\n    callbackSet = existingCallbackSet\r\n  }\r\n\r\n  return () => {\r\n    callbackSet.callbacks.delete(callback)\r\n\r\n    if (callbackSet.callbacks.size === 0) {\r\n      callbackSet.unsubscribe()\r\n      updateCallbackSets.delete(key)\r\n    }\r\n  }\r\n}\r\n\r\nfunction triggerUpdate(msg: ServerMessage) {\r\n  const key = resourceKey(msg.resource)\r\n  const callbackSet = updateCallbackSets.get(key)\r\n  if (!callbackSet) {\r\n    return\r\n  }\r\n\r\n  for (const callback of callbackSet.callbacks) {\r\n    callback(msg)\r\n  }\r\n\r\n  if (msg.type === 'notFound') {\r\n    // This indicates that the resource which we subscribed to either does not exist or\r\n    // has been deleted. In either case, we should clear all update callbacks, so if a\r\n    // new subscription is created for the same resource, it will send a new \"subscribe\"\r\n    // message to the server.\r\n    // No need to send an \"unsubscribe\" message to the server, it will have already\r\n    // dropped the update stream before sending the \"notFound\" message.\r\n    updateCallbackSets.delete(key)\r\n  }\r\n}\r\n"],"names":[],"mappings":"AAAA,2DAA2D;AAC3D,4DAA4D;AAC5D,6DAA6D;AAC7D,6DAA6D;;;;;;;;;AAkBtD,SAAS,QAAQ,EACtB,kBAAkB,EAClB,WAAW,EACX,gBAAgB,QAAQ,KAAK,EACf;IACd,mBAAmB,CAAC;QAClB,OAAQ,IAAI,IAAI;YACd,KAAK;gBACH,sBAAsB;gBACtB;YACF;gBACE,IAAI;oBACF,IAAI,MAAM,OAAO,CAAC,IAAI,IAAI,GAAG;wBAC3B,IAAK,IAAI,IAAI,GAAG,IAAI,IAAI,IAAI,CAAC,MAAM,EAAE,IAAK;4BACxC,oBAAoB,IAAI,IAAI,CAAC,EAAE;wBACjC;oBACF,OAAO;wBACL,oBAAoB,IAAI,IAAI;oBAC9B;oBACA;gBACF,EAAE,OAAO,GAAY;oBACnB,QAAQ,IAAI,CACV,8CACE,mIACA,qIACA,+GACA,8HACA;oBAEJ,cAAc;oBACd,SAAS,MAAM;gBACjB;gBACA;QACJ;IACF;IAEA,MAAM,SAAS,WAAW,gCAAgC;IAC1D,IAAI,UAAU,QAAQ,CAAC,MAAM,OAAO,CAAC,SAAS;QAC5C,MAAM,IAAI,MAAM;IAClB;IACA,WAAW,gCAAgC,GAAG;QAC5C,MAAM,CAAC,CAAC,WAAW,SAA0C;YAC3D,uBAAuB,WAAW,aAAa;QACjD;IACF;IAEA,IAAI,MAAM,OAAO,CAAC,SAAS;QACzB,KAAK,MAAM,CAAC,WAAW,SAAS,IAAI,OAAQ;YAC1C,uBAAuB,WAAW,aAAa;QACjD;IACF;AACF;AAOA,MAAM,qBAA0D,IAAI;AAEpE,SAAS,SAAS,WAAwB,EAAE,OAAsB;IAChE,YAAY,KAAK,SAAS,CAAC;AAC7B;AAIA,SAAS,YAAY,QAA4B;IAC/C,OAAO,KAAK,SAAS,CAAC;QACpB,MAAM,SAAS,IAAI;QACnB,SAAS,SAAS,OAAO,IAAI;IAC/B;AACF;AAEA,SAAS,mBACP,WAAwB,EACxB,QAA4B;IAE5B,SAAS,aAAa;QACpB,MAAM;QACN,GAAG,QAAQ;IACb;IAEA,OAAO;QACL,SAAS,aAAa;YACpB,MAAM;YACN,GAAG,QAAQ;QACb;IACF;AACF;AAEA,SAAS,sBAAsB,WAAwB;IACrD,KAAK,MAAM,OAAO,mBAAmB,IAAI,GAAI;QAC3C,mBAAmB,aAAa,KAAK,KAAK,CAAC;IAC7C;AACF;AAEA,iEAAiE;AACjE,MAAM,+BACJ,IAAI;AAEN,SAAS,iBAAiB,GAAyB;IACjD,MAAM,MAAM,YAAY,IAAI,QAAQ;IACpC,IAAI,aAAa,6BAA6B,GAAG,CAAC;IAElD,IAAI,YAAY;QACd,WAAW,WAAW,GAAG,sBACvB,WAAW,WAAW,EACtB,IAAI,WAAW;IAEnB,OAAO;QACL,6BAA6B,GAAG,CAAC,KAAK;IACxC;AACF;AAEA,SAAS;IACP,IAAI,6BAA6B,IAAI,KAAK,GAAG;IAC7C,MAAM,aAAa;IACnB,KAAK,MAAM,OAAO,6BAA6B,MAAM,GAAI;QACvD,cAAc;IAChB;IACA,6BAA6B,KAAK;IAClC;AACF;AAEA,SAAS,sBACP,OAAwB,EACxB,OAAwB;IAExB,IAAI;IACJ,IAAI,QAAQ,MAAM,IAAI,MAAM;QAC1B,IAAI,QAAQ,MAAM,IAAI,MAAM;YAC1B,SAAS,QAAQ,MAAM;QACzB,OAAO;YACL,SAAS,qBAAqB,QAAQ,MAAM,EAAE,QAAQ,MAAM;QAC9D;IACF,OAAO,IAAI,QAAQ,MAAM,IAAI,MAAM;QACjC,SAAS,QAAQ,MAAM;IACzB;IAEA,IAAI;IACJ,IAAI,QAAQ,MAAM,IAAI,MAAM;QAC1B,IAAI,QAAQ,MAAM,IAAI,MAAM;YAC1B,SAAS,QAAQ,MAAM;QACzB,OAAO;YACL,wEAAwE;YACxE,0BAA0B;YAC1B,0EAA0E;YAC1E,sCAAsC;YACtC,IAAI,SAAS,QAAQ,MAAM,CAAC,EAAE;YAC9B,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,CAAC,MAAM,EAAE,IAAK;gBAC9C,SAAS,sCACP,QACA,QAAQ,MAAM,CAAC,EAAE;YAErB;YAEA,IAAK,IAAI,IAAI,GAAG,IAAI,QAAQ,MAAM,CAAC,MAAM,EAAE,IAAK;gBAC9C,SAAS,sCACP,QACA,QAAQ,MAAM,CAAC,EAAE;YAErB;YAEA,SAAS;gBAAC;aAAO;QACnB;IACF,OAAO,IAAI,QAAQ,MAAM,IAAI,MAAM;QACjC,SAAS,QAAQ,MAAM;IACzB;IAEA,OAAO;QACL,MAAM;QACN;QACA;IACF;AACF;AAEA,SAAS,qBACP,OAAuC,EACvC,OAAuC;IAEvC,MAAM,SAAyC,CAAC;IAEhD,KAAK,MAAM,CAAC,WAAW,aAAa,IAAI,OAAO,OAAO,CAAC,SAEpD;QACD,MAAM,eAAe,OAAO,CAAC,UAAU;QACvC,IAAI,gBAAgB,MAAM;YACxB,MAAM,eAAe,kBAAkB,cAAc;YACrD,IAAI,gBAAgB,MAAM;gBACxB,MAAM,CAAC,UAAU,GAAG;YACtB;QACF,OAAO;YACL,MAAM,CAAC,UAAU,GAAG;QACtB;IACF;IAEA,KAAK,MAAM,CAAC,WAAW,aAAa,IAAI,OAAO,OAAO,CAAC,SAEpD;QACD,IAAI,MAAM,CAAC,UAAU,IAAI,MAAM;YAC7B,MAAM,CAAC,UAAU,GAAG;QACtB;IACF;IAEA,OAAO;AACT;AAEA,SAAS,kBACP,OAAoB,EACpB,OAAoB;IAEpB,IACE,AAAC,QAAQ,IAAI,KAAK,WAAW,QAAQ,IAAI,KAAK,aAC7C,QAAQ,IAAI,KAAK,aAAa,QAAQ,IAAI,KAAK,SAChD;QACA,OAAO;IACT;IAEA,IAAI,QAAQ,IAAI,KAAK,WAAW;QAC9B,UAAU,QAAQ,WAAW,EAAE;IACjC;IAEA,IAAI,QAAQ,IAAI,KAAK,WAAW;QAC9B,UAAU,QAAQ,WAAW,EAAE;IACjC;IAEA,OAAO;AACT;AAEA,SAAS,sCACP,OAA+B,EAC/B,OAA+B;IAE/B,MAAM,UAAU,4BAA4B,QAAQ,OAAO,EAAE,QAAQ,OAAO;IAC5E,MAAM,SAAS,6BAA6B,QAAQ,MAAM,EAAE,QAAQ,MAAM;IAE1E,OAAO;QACL,MAAM;QACN;QACA;IACF;AACF;AAEA,SAAS,4BACP,QAA6D,EAC7D,QAA6D;IAE7D,OAAO;QAAE,GAAG,QAAQ;QAAE,GAAG,QAAQ;IAAC;AACpC;AAEA,SAAS,6BACP,OAAmE,EACnE,OAAmE;IAEnE,IAAI,WAAW,MAAM;QACnB,OAAO;IACT;IAEA,IAAI,WAAW,MAAM;QACnB,OAAO;IACT;IAEA,MAAM,SAAyD,CAAC;IAEhE,KAAK,MAAM,CAAC,WAAW,aAAa,IAAI,OAAO,OAAO,CAAC,SAEpD;QACD,MAAM,eAAe,OAAO,CAAC,UAAU;QACvC,IAAI,gBAAgB,MAAM;YACxB,MAAM,eAAe,4BACnB,cACA;YAEF,IAAI,gBAAgB,MAAM;gBACxB,MAAM,CAAC,UAAU,GAAG;YACtB;QACF,OAAO;YACL,MAAM,CAAC,UAAU,GAAG;QACtB;IACF;IAEA,KAAK,MAAM,CAAC,WAAW,aAAa,IAAI,OAAO,OAAO,CAAC,SAEpD;QACD,IAAI,MAAM,CAAC,UAAU,IAAI,MAAM;YAC7B,MAAM,CAAC,UAAU,GAAG;QACtB;IACF;IAEA,IAAI,OAAO,IAAI,CAAC,QAAQ,MAAM,KAAK,GAAG;QACpC,OAAO;IACT;IAEA,OAAO;AACT;AAEA,SAAS,4BACP,OAAoC,EACpC,OAAoC;IAEpC,IAAI,QAAQ,IAAI,KAAK,WAAW,QAAQ,IAAI,KAAK,WAAW;QAC1D,8CAA8C;QAC9C,OAAO;IACT;IAEA,IAAI,QAAQ,IAAI,KAAK,aAAa,QAAQ,IAAI,KAAK,SAAS;QAC1D,MAAM,QAAQ,EAAE;QAChB,MAAM,UAAU,EAAE;QAClB,MAAM,iBAAiB,IAAI,IAAI,QAAQ,OAAO,IAAI,EAAE;QACpD,MAAM,eAAe,IAAI,IAAI,QAAQ,OAAO,IAAI,EAAE;QAElD,KAAK,MAAM,YAAY,aAAc;YACnC,IAAI,CAAC,eAAe,GAAG,CAAC,WAAW;gBACjC,MAAM,IAAI,CAAC;YACb;QACF;QAEA,KAAK,MAAM,YAAY,eAAgB;YACrC,IAAI,CAAC,aAAa,GAAG,CAAC,WAAW;gBAC/B,QAAQ,IAAI,CAAC;YACf;QACF;QAEA,IAAI,MAAM,MAAM,KAAK,KAAK,QAAQ,MAAM,KAAK,GAAG;YAC9C,OAAO;QACT;QAEA,OAAO;YACL,MAAM;YACN;YACA;QACF;IACF;IAEA,IAAI,QAAQ,IAAI,KAAK,aAAa,QAAQ,IAAI,KAAK,WAAW;QAC5D,MAAM,QAAQ,IAAI,IAAI;eAAK,QAAQ,KAAK,IAAI,EAAE;eAAO,QAAQ,KAAK,IAAI,EAAE;SAAE;QAC1E,MAAM,UAAU,IAAI,IAAI;eAClB,QAAQ,OAAO,IAAI,EAAE;eACrB,QAAQ,OAAO,IAAI,EAAE;SAC1B;QAED,IAAI,QAAQ,KAAK,IAAI,MAAM;YACzB,KAAK,MAAM,YAAY,QAAQ,KAAK,CAAE;gBACpC,QAAQ,MAAM,CAAC;YACjB;QACF;QAEA,IAAI,QAAQ,OAAO,IAAI,MAAM;YAC3B,KAAK,MAAM,YAAY,QAAQ,OAAO,CAAE;gBACtC,MAAM,MAAM,CAAC;YACf;QACF;QAEA,OAAO;YACL,MAAM;YACN,OAAO;mBAAI;aAAM;YACjB,SAAS;mBAAI;aAAQ;QACvB;IACF;IAEA,IAAI,QAAQ,IAAI,KAAK,WAAW,QAAQ,IAAI,KAAK,WAAW;QAC1D,MAAM,UAAU,IAAI,IAAI;eAClB,QAAQ,OAAO,IAAI,EAAE;eACrB,QAAQ,KAAK,IAAI,EAAE;SACxB;QAED,KAAK,MAAM,YAAY,QAAQ,OAAO,IAAI,EAAE,CAAE;YAC5C,QAAQ,MAAM,CAAC;QACjB;QAEA,OAAO;YACL,MAAM;YACN,SAAS;mBAAI;aAAQ;QACvB;IACF;IAEA,IAAI,QAAQ,IAAI,KAAK,aAAa,QAAQ,IAAI,KAAK,WAAW;QAC5D,wEAAwE;QACxE,4CAA4C;QAE5C,MAAM,UAAU,IAAI,IAAI,QAAQ,OAAO,IAAI,EAAE;QAE7C,IAAI,QAAQ,KAAK,IAAI,MAAM;YACzB,KAAK,MAAM,YAAY,QAAQ,KAAK,CAAE;gBACpC,QAAQ,MAAM,CAAC;YACjB;QACF;QAEA,OAAO;YACL,MAAM;YACN,SAAS;mBAAI;aAAQ;QACvB;IACF;IAEA,2CAA2C;IAE3C,OAAO;AACT;AAEA,SAAS,UAAU,CAAQ,EAAE,OAAe;IAC1C,MAAM,IAAI,MAAM,CAAC,WAAW,EAAE,SAAS;AACzC;AAEA,MAAM,WAAW;IAAC;IAAO;IAAS;CAAQ;AAE1C,SAAS,cAAc,IAAW,EAAE,CAAM,EAAE,CAAM;IAChD,MAAM,KAAK,KAAK,OAAO,CAAC,KAAK,KAAK,KAAK,MAAM;IAC7C,MAAM,KAAK,KAAK,OAAO,CAAC,KAAK,KAAK,KAAK,MAAM;IAC7C,OAAO,KAAK;AACd;AAEA,MAAM,mBAA8C,IAAI;AAExD,SAAS;IACP,MAAM,SAAS,EAAE;IACjB,MAAM,mBAAmB,IAAI;IAE7B,KAAK,MAAM,CAAC,GAAG,YAAY,IAAI,iBAAkB;QAC/C,KAAK,MAAM,cAAc,YAAa;YACpC,IAAI,iBAAiB,GAAG,CAAC,WAAW,SAAS,GAAG;YAEhD,OAAO,IAAI,CAAC;YACZ,iBAAiB,GAAG,CAAC,WAAW,SAAS;QAC3C;IACF;IAEA,WAAW;IAEX,MAAM,MAAM,CAAC;AACf;AAEA,SAAS,aAAa,GAAkB;IACtC,MAAM,MAAM,YAAY,IAAI,QAAQ;IACpC,IAAI,oBAAoB;IAExB,KAAK,MAAM,SAAS,IAAI,MAAM,CAAE;QAC9B,IAAI,SAAS,QAAQ,CAAC,MAAM,QAAQ,GAAG;YACrC,oBAAoB;QACtB;IACF;IAEA,IAAI,IAAI,MAAM,CAAC,MAAM,GAAG,GAAG;QACzB,iBAAiB,GAAG,CAAC,KAAK,IAAI,MAAM;IACtC,OAAO,IAAI,iBAAiB,GAAG,CAAC,MAAM;QACpC,iBAAiB,MAAM,CAAC;IAC1B;IAEA;IAEA,OAAO;AACT;AAEA,MAAM,iBAAiB;IAAC;IAAO;IAAS;IAAS;IAAW;IAAQ;CAAM;AAC1E,MAAM,iBAAiB;IACrB;IACA;IACA;IACA;IACA;IACA;CACD;AAED,SAAS,WAAW,MAAe;IACjC,OAAO,IAAI,CAAC,CAAC,GAAG;QACd,MAAM,QAAQ,cAAc,gBAAgB,EAAE,QAAQ,EAAE,EAAE,QAAQ;QAClE,IAAI,UAAU,GAAG,OAAO;QACxB,OAAO,cAAc,gBAAgB,EAAE,QAAQ,EAAE,EAAE,QAAQ;IAC7D;AACF;AAEA,MAAM,QAAQ;IACZ,eAAe,KAAO;IACtB,SAAS,KAAO;IAChB,SAAS,KAAO;IAChB,QAAQ,CAAC,WAAsB;AACjC;AAEO,SAAS,SAAS,QAAsB;IAC7C,OAAO,MAAM,CAAC,OAAO;AACvB;AAEA,SAAS,oBAAoB,GAAkB;IAC7C,WAAW,IAAI,MAAM;IAErB,aAAa;IAEb,OAAQ,IAAI,IAAI;QACd,KAAK;YAEH;QACF,KAAK;YACH,oBAAoB;YACpB,iBAAiB;YACjB;QACF;YACE,oBAAoB;YACpB,MAAM,WAAW,6BAA6B,IAAI,KAAK;YACvD,IAAI,UAAU,MAAM,aAAa;YACjC,cAAc;YACd,IAAI,UAAU;YACd;IACJ;AACF;AAEA,SAAS;IACP,MAAM,OAAO;IACb,MAAM,OAAO;IAEb,2EAA2E;IAC3E,+BAA+B;IAC/B,oFAAoF;IACpF,IAAI,WAAW,aAAa,EAAE;QAC5B,WAAW,aAAa;QACxB,WAAW,aAAa,GAAG;IAC7B;AACF;AAEA,SAAS,uBACP,aAA4B,EAC5B,WAAwB,EACxB,QAAwB;IAExB,OAAO,kBACL;QACE,MAAM;IACR,GACA,aACA;AAEJ;AAEO,SAAS,kBACd,QAA4B,EAC5B,WAAwB,EACxB,QAAwB;IAExB,MAAM,MAAM,YAAY;IACxB,IAAI;IACJ,MAAM,sBAAsB,mBAAmB,GAAG,CAAC;IACnD,IAAI,CAAC,qBAAqB;QACxB,cAAc;YACZ,WAAW,IAAI,IAAI;gBAAC;aAAS;YAC7B,aAAa,mBAAmB,aAAa;QAC/C;QACA,mBAAmB,GAAG,CAAC,KAAK;IAC9B,OAAO;QACL,oBAAoB,SAAS,CAAC,GAAG,CAAC;QAClC,cAAc;IAChB;IAEA,OAAO;QACL,YAAY,SAAS,CAAC,MAAM,CAAC;QAE7B,IAAI,YAAY,SAAS,CAAC,IAAI,KAAK,GAAG;YACpC,YAAY,WAAW;YACvB,mBAAmB,MAAM,CAAC;QAC5B;IACF;AACF;AAEA,SAAS,cAAc,GAAkB;IACvC,MAAM,MAAM,YAAY,IAAI,QAAQ;IACpC,MAAM,cAAc,mBAAmB,GAAG,CAAC;IAC3C,IAAI,CAAC,aAAa;QAChB;IACF;IAEA,KAAK,MAAM,YAAY,YAAY,SAAS,CAAE;QAC5C,SAAS;IACX;IAEA,IAAI,IAAI,IAAI,KAAK,YAAY;QAC3B,mFAAmF;QACnF,kFAAkF;QAClF,oFAAoF;QACpF,yBAAyB;QACzB,+EAA+E;QAC/E,mEAAmE;QACnE,mBAAmB,MAAM,CAAC;IAC5B;AACF","ignoreList":[0]}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/lib/supabase.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL || process.env.REACT_APP_SUPABASE_URL;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || process.env.REACT_APP_SUPABASE_ANON_KEY;\r\n\r\nif (!supabaseUrl || !supabaseAnonKey) {\r\n  throw new Error('Missing Supabase environment variables');\r\n}\r\n\r\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey, {\r\n  auth: {\r\n    autoRefreshToken: true,\r\n    persistSession: true,\r\n    detectSessionInUrl: true,\r\n  },\r\n});\r\n\r\nexport const STORAGE_BUCKETS = {\r\n  MEDICAL_DOCUMENTS: 'medical-documents',\r\n};\r\n"],"names":[],"mappings":";;;;;;AAEoB;AAFpB;;AAEA,MAAM,cAAc,gFAAwC,gLAAO,CAAC,GAAG,CAAC,sBAAsB;AAC9F,MAAM,kBAAkB,wPAA6C,gLAAO,CAAC,GAAG,CAAC,2BAA2B;AAE5G;;AAIO,MAAM,WAAW,IAAA,+MAAY,EAAC,aAAa,iBAAiB;IACjE,MAAM;QACJ,kBAAkB;QAClB,gBAAgB;QAChB,oBAAoB;IACtB;AACF;AAEO,MAAM,kBAAkB;IAC7B,mBAAmB;AACrB"}},
    {"offset": {"line": 497, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/components/admin/AdminLayout.js"],"sourcesContent":["import Link from 'next/link';\r\nimport { useRouter } from 'next/router';\r\nimport { supabase } from '../../lib/supabase';\r\nimport {\r\n  LayoutDashboard,\r\n  FileText,\r\n  Briefcase,\r\n  MessageSquare,\r\n  LogOut,\r\n  Menu,\r\n  X,\r\n  ClipboardList,\r\n  Users,\r\n  HelpCircle,\r\n  BookOpen,\r\n  Activity\r\n} from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst AdminLayout = ({ children }) => {\r\n  const router = useRouter();\r\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [isSuperAdmin, setIsSuperAdmin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    checkUserRole();\r\n  }, []);\r\n\r\n  const checkUserRole = async () => {\r\n    try {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      if (!user) return;\r\n\r\n      const { data, error } = await supabase\r\n        .from('admin_users')\r\n        .select('role')\r\n        .eq('id', user.id)\r\n        .maybeSingle(); // Use maybeSingle instead of single to avoid errors\r\n\r\n      // Ignore errors - user might not be in admin_users table yet\r\n      if (data && data.role === 'super_admin') {\r\n        setIsSuperAdmin(true);\r\n      }\r\n    } catch (error) {\r\n      // Silently fail - user just won't see Admin Users link\r\n      console.log('Admin users table not accessible yet');\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await supabase.auth.signOut();\r\n      toast.success('Logged out successfully');\r\n      router.push('/admin/login');\r\n    } catch (error) {\r\n      console.error('Logout error:', error);\r\n      toast.error('Logout failed');\r\n    }\r\n  };\r\n\r\n  const navigation = [\r\n    { name: 'Dashboard', href: '/admin/dashboard', icon: LayoutDashboard },\r\n    { name: 'Contacts', href: '/admin/contacts', icon: MessageSquare },\r\n    { name: 'Form Submissions', href: '/admin/form-submissions', icon: ClipboardList },\r\n    { name: 'Diagnostics', href: '/admin/diagnostics', icon: Activity },\r\n    { name: 'Services', href: '/admin/services', icon: Briefcase },\r\n    { name: 'Case Studies', href: '/admin/case-studies', icon: BookOpen },\r\n    { name: 'Blog Posts', href: '/admin/blog', icon: FileText },\r\n    { name: 'Community Q&A', href: '/admin/community', icon: HelpCircle },\r\n    ...(isSuperAdmin ? [{ name: 'Admin Users', href: '/admin/users', icon: Users }] : []),\r\n  ];\r\n\r\n  const isActive = (path) => router.pathname === path;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50\">\r\n      {/* Sidebar - Desktop */}\r\n      <div className=\"hidden md:fixed md:inset-y-0 md:flex md:w-64 md:flex-col\">\r\n        <div className=\"flex flex-col flex-grow bg-indigo-700 overflow-y-auto\">\r\n          <div className=\"flex items-center flex-shrink-0 px-4 py-6\">\r\n            <h1 className=\"text-2xl font-bold text-white\">Admin Panel</h1>\r\n          </div>\r\n          <nav className=\"flex-1 px-2 pb-4 space-y-1\">\r\n            {navigation.map((item) => {\r\n              const Icon = item.icon;\r\n              return (\r\n                <Link\r\n                  key={item.name}\r\n                  href={item.href}\r\n                  className={`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-colors ${isActive(item.href)\r\n                      ? 'bg-indigo-800 text-white'\r\n                      : 'text-indigo-100 hover:bg-indigo-600 hover:text-white'\r\n                    }`}\r\n                >\r\n                  <Icon className=\"mr-3 h-5 w-5\" />\r\n                  {item.name}\r\n                </Link>\r\n              );\r\n            })}\r\n          </nav>\r\n          <div className=\"flex-shrink-0 flex border-t border-indigo-800 p-4\">\r\n            <button\r\n              onClick={handleLogout}\r\n              className=\"flex-shrink-0 w-full group flex items-center px-3 py-3 text-sm font-medium text-indigo-100 rounded-lg hover:bg-indigo-600 hover:text-white transition-colors\"\r\n            >\r\n              <LogOut className=\"mr-3 h-5 w-5\" />\r\n              Logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile menu button */}\r\n      <div className=\"md:hidden fixed top-0 left-0 right-0 bg-indigo-700 z-40\">\r\n        <div className=\"flex items-center justify-between px-4 py-4\">\r\n          <h1 className=\"text-xl font-bold text-white\">Admin Panel</h1>\r\n          <button\r\n            onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\r\n            className=\"text-white\"\r\n          >\r\n            {mobileMenuOpen ? <X className=\"h-6 w-6\" /> : <Menu className=\"h-6 w-6\" />}\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Mobile menu */}\r\n      {mobileMenuOpen && (\r\n        <div className=\"md:hidden fixed inset-0 z-30 bg-indigo-700 pt-16\">\r\n          <nav className=\"px-2 pb-4 space-y-1\">\r\n            {navigation.map((item) => {\r\n              const Icon = item.icon;\r\n              return (\r\n                <Link\r\n                  key={item.name}\r\n                  href={item.href}\r\n                  onClick={() => setMobileMenuOpen(false)}\r\n                  className={`group flex items-center px-3 py-3 text-sm font-medium rounded-lg ${isActive(item.href)\r\n                      ? 'bg-indigo-800 text-white'\r\n                      : 'text-indigo-100 hover:bg-indigo-600 hover:text-white'\r\n                    }`}\r\n                >\r\n                  <Icon className=\"mr-3 h-5 w-5\" />\r\n                  {item.name}\r\n                </Link>\r\n              );\r\n            })}\r\n            <button\r\n              onClick={handleLogout}\r\n              className=\"w-full flex items-center px-3 py-3 text-sm font-medium text-indigo-100 rounded-lg hover:bg-indigo-600 hover:text-white\"\r\n            >\r\n              <LogOut className=\"mr-3 h-5 w-5\" />\r\n              Logout\r\n            </button>\r\n          </nav>\r\n        </div>\r\n      )}\r\n\r\n      {/* Main content */}\r\n      <div className=\"md:pl-64 flex flex-col flex-1\">\r\n        <main className=\"flex-1 pt-16 md:pt-0\">\r\n          <div className=\"py-6\">\r\n            <div className=\"max-w-7xl mx-auto px-4 sm:px-6 md:px-8\">\r\n              {children}\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminLayout;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 851, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/components/admin/ProtectedRoute.js"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport { supabase } from '../../lib/supabase';\r\n\r\nconst ProtectedRoute = ({ children }) => {\r\n  const router = useRouter();\r\n  const [loading, setLoading] = useState(true);\r\n  const [user, setUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    // Check current session\r\n    const checkSession = async () => {\r\n      const { data: { session } } = await supabase.auth.getSession();\r\n      const currentUser = session?.user ?? null;\r\n      setUser(currentUser);\r\n      setLoading(false);\r\n\r\n      if (!currentUser) {\r\n        router.replace('/admin/login');\r\n      }\r\n    };\r\n\r\n    checkSession();\r\n\r\n    // Listen for auth changes\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      const currentUser = session?.user ?? null;\r\n      setUser(currentUser);\r\n      if (!currentUser && !loading) {\r\n        router.replace('/admin/login');\r\n      }\r\n    });\r\n\r\n    return () => subscription.unsubscribe();\r\n  }, [router, loading]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return null; // or a loading spinner while redirecting\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;;AAEA,MAAM,iBAAiB,CAAC,EAAE,QAAQ,EAAE;;IAClC,MAAM,SAAS,IAAA,mJAAS;IACxB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kJAAQ,EAAC;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,kJAAQ,EAAC;IAEjC,IAAA,mJAAS;oCAAC;YACR,wBAAwB;YACxB,MAAM;yDAAe;oBACnB,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,EAAE,GAAG,MAAM,0IAAQ,CAAC,IAAI,CAAC,UAAU;oBAC5D,MAAM,cAAc,SAAS,QAAQ;oBACrC,QAAQ;oBACR,WAAW;oBAEX,IAAI,CAAC,aAAa;wBAChB,OAAO,OAAO,CAAC;oBACjB;gBACF;;YAEA;YAEA,0BAA0B;YAC1B,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,EAAE,GAAG,0IAAQ,CAAC,IAAI,CAAC,iBAAiB;4CAAC,CAAC,QAAQ;oBAC1E,MAAM,cAAc,SAAS,QAAQ;oBACrC,QAAQ;oBACR,IAAI,CAAC,eAAe,CAAC,SAAS;wBAC5B,OAAO,OAAO,CAAC;oBACjB;gBACF;;YAEA;4CAAO,IAAM,aAAa,WAAW;;QACvC;mCAAG;QAAC;QAAQ;KAAQ;IAEpB,IAAI,SAAS;QACX,qBACE,sKAAC;YAAI,WAAU;sBACb,cAAA,sKAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,MAAM;QACT,OAAO,MAAM,yCAAyC;IACxD;IAEA,OAAO;AACT;GA7CM;;QACW,mJAAS;;;KADpB;uCA+CS"}},
    {"offset": {"line": 939, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/lib/formDataParser.js"],"sourcesContent":["/**\r\n * Form Data Parser Utility\r\n * Handles parsing and formatting of form submission data\r\n */\r\n\r\n/**\r\n * Detects if a string is JSON or plain text\r\n * @param {string} data - The data to check\r\n * @returns {boolean} - True if data is valid JSON\r\n */\r\nexport const isJSON = (data) => {\r\n  if (typeof data !== 'string') return false;\r\n  \r\n  try {\r\n    const parsed = JSON.parse(data);\r\n    return typeof parsed === 'object' && parsed !== null;\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Safely parse JSON with error handling\r\n * @param {string} data - JSON string to parse\r\n * @returns {object|null} - Parsed object or null if parsing fails\r\n */\r\nexport const safeJSONParse = (data) => {\r\n  try {\r\n    return JSON.parse(data);\r\n  } catch (e) {\r\n    console.error('JSON parsing error:', e);\r\n    return null;\r\n  }\r\n};\r\n\r\n/**\r\n * Format field value for display\r\n * @param {string} key - Field key\r\n * @param {any} value - Field value\r\n * @returns {string} - Formatted value\r\n */\r\nexport const formatFieldValue = (key, value) => {\r\n  // Handle empty/null values\r\n  if (value === null || value === undefined || value === '') {\r\n    return 'Not provided';\r\n  }\r\n\r\n  // Handle boolean values\r\n  if (typeof value === 'boolean') {\r\n    return value ? 'Yes' : 'No';\r\n  }\r\n\r\n  // Handle arrays\r\n  if (Array.isArray(value)) {\r\n    return value.length > 0 ? value.join(', ') : 'Not provided';\r\n  }\r\n\r\n  // Handle objects (nested data)\r\n  if (typeof value === 'object') {\r\n    return JSON.stringify(value, null, 2);\r\n  }\r\n\r\n  // Handle date fields\r\n  if (key.toLowerCase().includes('date') || key.toLowerCase().includes('dob')) {\r\n    const date = new Date(value);\r\n    if (!isNaN(date.getTime())) {\r\n      return date.toLocaleDateString('en-US', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n      });\r\n    }\r\n  }\r\n\r\n  // Handle phone numbers\r\n  if (key.toLowerCase().includes('phone')) {\r\n    const cleaned = value.toString().replace(/\\D/g, '');\r\n    if (cleaned.length === 10) {\r\n      return `(${cleaned.slice(0, 3)}) ${cleaned.slice(3, 6)}-${cleaned.slice(6)}`;\r\n    }\r\n  }\r\n\r\n  // Handle SSN (mask for privacy)\r\n  if (key.toLowerCase().includes('ssn')) {\r\n    const cleaned = value.toString().replace(/\\D/g, '');\r\n    if (cleaned.length === 9) {\r\n      return `***-**-${cleaned.slice(5)}`;\r\n    }\r\n  }\r\n\r\n  return value.toString();\r\n};\r\n\r\n/**\r\n * Convert camelCase or snake_case to Title Case\r\n * @param {string} str - String to convert\r\n * @returns {string} - Title case string\r\n */\r\nexport const toTitleCase = (str) => {\r\n  // Handle camelCase\r\n  const spacedStr = str.replace(/([A-Z])/g, ' $1');\r\n  // Handle snake_case\r\n  const withSpaces = spacedStr.replace(/_/g, ' ');\r\n  // Capitalize first letter of each word\r\n  return withSpaces\r\n    .split(' ')\r\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\r\n    .join(' ')\r\n    .trim();\r\n};\r\n\r\n/**\r\n * Field mapping for Aid & Attendance form\r\n */\r\nconst AID_ATTENDANCE_FIELD_MAP = {\r\n  // Personal Information\r\n  veteranName: { label: \"Veteran's Full Name\", section: 'Personal Information' },\r\n  veteranSSN: { label: 'Social Security Number', section: 'Personal Information' },\r\n  veteranDOB: { label: 'Date of Birth', section: 'Personal Information' },\r\n  veteranPhone: { label: 'Phone Number', section: 'Personal Information' },\r\n  veteranEmail: { label: 'Email Address', section: 'Personal Information' },\r\n  \r\n  // Contact Person\r\n  contactName: { label: 'Contact Name', section: 'Contact Person' },\r\n  contactPhone: { label: 'Contact Phone', section: 'Contact Person' },\r\n  contactEmail: { label: 'Contact Email', section: 'Contact Person' },\r\n  contactRelationship: { label: 'Relationship to Veteran', section: 'Contact Person' },\r\n  \r\n  // Medical Information\r\n  primaryDiagnosis: { label: 'Primary Diagnosis', section: 'Medical Information' },\r\n  secondaryDiagnoses: { label: 'Secondary Diagnoses', section: 'Medical Information' },\r\n  currentMedications: { label: 'Current Medications', section: 'Medical Information' },\r\n  physicianName: { label: 'Primary Physician', section: 'Medical Information' },\r\n  physicianPhone: { label: 'Physician Phone', section: 'Medical Information' },\r\n  lastExamDate: { label: 'Last Medical Exam', section: 'Medical Information' },\r\n  \r\n  // Activities of Daily Living\r\n  bathing: { label: 'Bathing/Showering', section: 'Activities of Daily Living' },\r\n  dressing: { label: 'Dressing/Undressing', section: 'Activities of Daily Living' },\r\n  eating: { label: 'Eating/Feeding', section: 'Activities of Daily Living' },\r\n  toileting: { label: 'Toileting', section: 'Activities of Daily Living' },\r\n  mobility: { label: 'Walking/Mobility', section: 'Activities of Daily Living' },\r\n  transferring: { label: 'Transferring', section: 'Activities of Daily Living' },\r\n  continence: { label: 'Continence Control', section: 'Activities of Daily Living' },\r\n  \r\n  // Care Requirements\r\n  supervisionNeeded: { label: 'Supervision Level', section: 'Care Requirements' },\r\n  assistanceHours: { label: 'Daily Assistance Hours', section: 'Care Requirements' },\r\n  caregiverInfo: { label: 'Current Caregiver', section: 'Care Requirements' },\r\n  \r\n  // Additional Information\r\n  additionalInfo: { label: 'Additional Details', section: 'Additional Information' },\r\n  rushService: { label: 'Rush Service', section: 'Additional Information' },\r\n  serviceType: { label: 'Service Type', section: 'Additional Information' },\r\n};\r\n\r\n/**\r\n * Field mapping for Quick Intake form\r\n */\r\nconst QUICK_INTAKE_FIELD_MAP = {\r\n  fullName: { label: 'Full Name', section: 'Contact Information' },\r\n  email: { label: 'Email', section: 'Contact Information' },\r\n  phone: { label: 'Phone', section: 'Contact Information' },\r\n  formType: { label: 'Form Type', section: 'Request Details' },\r\n  briefSummary: { label: 'Brief Summary', section: 'Request Details' },\r\n};\r\n\r\n/**\r\n * Get field mapping based on form type\r\n * @param {string} formType - Type of form\r\n * @returns {object} - Field mapping\r\n */\r\nconst getFieldMap = (formType) => {\r\n  switch (formType) {\r\n    case 'aid-attendance':\r\n    case 'aid_attendance':\r\n      return AID_ATTENDANCE_FIELD_MAP;\r\n    case 'quick-intake':\r\n    case 'quick_intake':\r\n      return QUICK_INTAKE_FIELD_MAP;\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\n/**\r\n * Group fields into sections\r\n * @param {object} data - Parsed form data\r\n * @param {string} formType - Type of form\r\n * @returns {array} - Array of sections with fields\r\n */\r\nexport const groupFieldsIntoSections = (data, formType = null) => {\r\n  const fieldMap = getFieldMap(formType);\r\n  const sections = {};\r\n\r\n  Object.entries(data).forEach(([key, value]) => {\r\n    // Skip empty values\r\n    if (value === null || value === undefined || value === '') {\r\n      return;\r\n    }\r\n\r\n    let sectionName = 'General Information';\r\n    let fieldLabel = toTitleCase(key);\r\n\r\n    // Use field map if available\r\n    if (fieldMap && fieldMap[key]) {\r\n      sectionName = fieldMap[key].section;\r\n      fieldLabel = fieldMap[key].label;\r\n    }\r\n\r\n    // Initialize section if it doesn't exist\r\n    if (!sections[sectionName]) {\r\n      sections[sectionName] = [];\r\n    }\r\n\r\n    // Add field to section\r\n    sections[sectionName].push({\r\n      key,\r\n      label: fieldLabel,\r\n      value: formatFieldValue(key, value),\r\n      rawValue: value\r\n    });\r\n  });\r\n\r\n  // Convert to array format\r\n  return Object.entries(sections).map(([title, fields]) => ({\r\n    title,\r\n    fields\r\n  }));\r\n};\r\n\r\n/**\r\n * Parse form data (JSON or plain text) into structured format\r\n * @param {string|object} data - Form data to parse\r\n * @param {string} formType - Type of form (optional)\r\n * @returns {object} - Parsed data with sections\r\n */\r\nexport const parseFormData = (data, formType = null) => {\r\n  // If data is already an object, use it directly\r\n  if (typeof data === 'object' && data !== null) {\r\n    return {\r\n      isJSON: true,\r\n      sections: groupFieldsIntoSections(data, formType),\r\n      rawData: data\r\n    };\r\n  }\r\n\r\n  // If data is a string, check if it's JSON\r\n  if (typeof data === 'string') {\r\n    if (isJSON(data)) {\r\n      const parsed = safeJSONParse(data);\r\n      if (parsed) {\r\n        return {\r\n          isJSON: true,\r\n          sections: groupFieldsIntoSections(parsed, formType),\r\n          rawData: parsed\r\n        };\r\n      }\r\n    }\r\n\r\n    // Plain text - return as single section\r\n    return {\r\n      isJSON: false,\r\n      sections: [{\r\n        title: 'Message',\r\n        fields: [{\r\n          key: 'message',\r\n          label: 'Message',\r\n          value: data,\r\n          rawValue: data\r\n        }]\r\n      }],\r\n      rawData: data\r\n    };\r\n  }\r\n\r\n  // Fallback for unexpected data types\r\n  return {\r\n    isJSON: false,\r\n    sections: [{\r\n      title: 'Data',\r\n      fields: [{\r\n        key: 'data',\r\n        label: 'Data',\r\n        value: 'Unable to parse data',\r\n        rawValue: data\r\n      }]\r\n    }],\r\n    rawData: data\r\n  };\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1290, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/components/admin/FormDataParser.js"],"sourcesContent":["import React from 'react';\r\nimport { parseFormData } from '../../lib/formDataParser';\r\n\r\n/**\r\n * FormDataParser Component\r\n * Parses and displays form submission data in a clean, structured format\r\n * \r\n * Supports multiple form types:\r\n * - 'aid-attendance' or 'aid_attendance': Aid & Attendance form with specialized sections\r\n * - 'quick-intake' or 'quick_intake': Quick Intake form with contact and request details\r\n * - null or unknown: Generic form with automatic field detection and formatting\r\n * \r\n * @param {object} props\r\n * @param {string|object} props.data - Form data (JSON string or object)\r\n * @param {string} props.formType - Type of form (optional, defaults to generic parsing)\r\n * @param {string} props.className - Additional CSS classes\r\n */\r\nconst FormDataParser = React.memo(({ data, formType = null, className = '' }) => {\r\n  // Handle empty or null data\r\n  if (!data) {\r\n    return (\r\n      <div className={`text-slate-500 text-sm ${className}`}>\r\n        No data available\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Parse the form data\r\n  const parsedData = parseFormData(data, formType);\r\n\r\n  // If no sections were created, show a fallback message\r\n  if (!parsedData.sections || parsedData.sections.length === 0) {\r\n    return (\r\n      <div className={`text-slate-500 text-sm ${className}`}>\r\n        Unable to parse form data\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Get form type label for display\r\n  const getFormTypeLabel = (type) => {\r\n    if (!type) return null;\r\n    \r\n    switch (type.toLowerCase().replace('_', '-')) {\r\n      case 'aid-attendance':\r\n        return 'Aid & Attendance Form';\r\n      case 'quick-intake':\r\n        return 'Quick Intake Form';\r\n      default:\r\n        return type.split(/[-_]/).map(word => \r\n          word.charAt(0).toUpperCase() + word.slice(1)\r\n        ).join(' ') + ' Form';\r\n    }\r\n  };\r\n\r\n  const formTypeLabel = getFormTypeLabel(formType);\r\n\r\n  return (\r\n    <div className={`space-y-6 ${className}`}>\r\n      {/* Form Type Badge (if specified) */}\r\n      {formTypeLabel && (\r\n        <div className=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800\">\r\n          {formTypeLabel}\r\n        </div>\r\n      )}\r\n\r\n      {/* Sections */}\r\n      {parsedData.sections.map((section, sectionIndex) => (\r\n        <div key={sectionIndex} className=\"space-y-3\">\r\n          {/* Section Title */}\r\n          <h3 className=\"text-lg font-semibold text-slate-900 border-b border-slate-200 pb-2\">\r\n            {section.title}\r\n          </h3>\r\n\r\n          {/* Section Fields */}\r\n          <div className=\"space-y-3\">\r\n            {section.fields.map((field, fieldIndex) => (\r\n              <div key={fieldIndex} className=\"grid grid-cols-1 sm:grid-cols-3 gap-2\">\r\n                {/* Field Label */}\r\n                <div className=\"text-sm font-medium text-slate-700\">\r\n                  {field.label}\r\n                </div>\r\n\r\n                {/* Field Value */}\r\n                <div className=\"sm:col-span-2 text-sm text-slate-900\">\r\n                  {typeof field.value === 'string' && field.value.includes('\\n') ? (\r\n                    // Multi-line text\r\n                    <pre className=\"whitespace-pre-wrap font-sans\">{field.value}</pre>\r\n                  ) : (\r\n                    // Single line text\r\n                    <span>{field.value}</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n});\r\n\r\nFormDataParser.displayName = 'FormDataParser';\r\n\r\nexport default FormDataParser;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA;;;;;;;;;;;;;CAaC,GACD,MAAM,+BAAiB,iJAAK,CAAC,IAAI,MAAC,CAAC,EAAE,IAAI,EAAE,WAAW,IAAI,EAAE,YAAY,EAAE,EAAE;IAC1E,4BAA4B;IAC5B,IAAI,CAAC,MAAM;QACT,qBACE,sKAAC;YAAI,WAAW,CAAC,uBAAuB,EAAE,WAAW;sBAAE;;;;;;IAI3D;IAEA,sBAAsB;IACtB,MAAM,aAAa,IAAA,qJAAa,EAAC,MAAM;IAEvC,uDAAuD;IACvD,IAAI,CAAC,WAAW,QAAQ,IAAI,WAAW,QAAQ,CAAC,MAAM,KAAK,GAAG;QAC5D,qBACE,sKAAC;YAAI,WAAW,CAAC,uBAAuB,EAAE,WAAW;sBAAE;;;;;;IAI3D;IAEA,kCAAkC;IAClC,MAAM,mBAAmB,CAAC;QACxB,IAAI,CAAC,MAAM,OAAO;QAElB,OAAQ,KAAK,WAAW,GAAG,OAAO,CAAC,KAAK;YACtC,KAAK;gBACH,OAAO;YACT,KAAK;gBACH,OAAO;YACT;gBACE,OAAO,KAAK,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAA,OAC5B,KAAK,MAAM,CAAC,GAAG,WAAW,KAAK,KAAK,KAAK,CAAC,IAC1C,IAAI,CAAC,OAAO;QAClB;IACF;IAEA,MAAM,gBAAgB,iBAAiB;IAEvC,qBACE,sKAAC;QAAI,WAAW,CAAC,UAAU,EAAE,WAAW;;YAErC,+BACC,sKAAC;gBAAI,WAAU;0BACZ;;;;;;YAKJ,WAAW,QAAQ,CAAC,GAAG,CAAC,CAAC,SAAS,6BACjC,sKAAC;oBAAuB,WAAU;;sCAEhC,sKAAC;4BAAG,WAAU;sCACX,QAAQ,KAAK;;;;;;sCAIhB,sKAAC;4BAAI,WAAU;sCACZ,QAAQ,MAAM,CAAC,GAAG,CAAC,CAAC,OAAO,2BAC1B,sKAAC;oCAAqB,WAAU;;sDAE9B,sKAAC;4CAAI,WAAU;sDACZ,MAAM,KAAK;;;;;;sDAId,sKAAC;4CAAI,WAAU;sDACZ,OAAO,MAAM,KAAK,KAAK,YAAY,MAAM,KAAK,CAAC,QAAQ,CAAC,QACvD,kBAAkB;0DAClB,sKAAC;gDAAI,WAAU;0DAAiC,MAAM,KAAK;;;;;2FAE3D,mBAAmB;0DACnB,sKAAC;0DAAM,MAAM,KAAK;;;;;;;;;;;;mCAbd;;;;;;;;;;;mBATN;;;;;;;;;;;AAgClB;;AAEA,eAAe,WAAW,GAAG;uCAEd"}},
    {"offset": {"line": 1446, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/lib/api.js"],"sourcesContent":["import { supabase, STORAGE_BUCKETS } from './supabase';\r\n\r\n// ============================================\r\n// SERVICES\r\n// ============================================\r\n\r\nexport const servicesApi = {\r\n  async getAll() {\r\n    const { data, error } = await supabase\r\n      .from('services')\r\n      .select('*')\r\n      .eq('is_active', true)\r\n      .order('display_order', { ascending: true });\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async getBySlug(slug) {\r\n    const { data, error } = await supabase\r\n      .from('services')\r\n      .select('*')\r\n      .eq('slug', slug)\r\n      .eq('is_active', true)\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async delete(id) {\r\n    const { error } = await supabase\r\n      .from('services')\r\n      .delete()\r\n      .eq('id', id);\r\n\r\n    if (error) throw error;\r\n    return true;\r\n  },\r\n};\r\n\r\n// ============================================\r\n// BLOG\r\n// ============================================\r\n\r\nexport const blogApi = {\r\n  async getAll(limit = 100) {\r\n    const { data, error } = await supabase\r\n      .from('blog_posts')\r\n      .select('*')\r\n      .eq('is_published', true)\r\n      .order('published_at', { ascending: false })\r\n      .limit(limit);\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async getBySlug(slug) {\r\n    const { data, error } = await supabase\r\n      .from('blog_posts')\r\n      .select('*')\r\n      .eq('slug', slug)\r\n      .eq('is_published', true)\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async search(query, category = null) {\r\n    let queryBuilder = supabase\r\n      .from('blog_posts')\r\n      .select('*')\r\n      .eq('is_published', true);\r\n\r\n    if (query) {\r\n      queryBuilder = queryBuilder.or(\r\n        `title.ilike.%${query}%,excerpt.ilike.%${query}%,content_html.ilike.%${query}%`\r\n      );\r\n    }\r\n\r\n    if (category) {\r\n      queryBuilder = queryBuilder.eq('category', category);\r\n    }\r\n\r\n    const { data, error } = await queryBuilder\r\n      .order('published_at', { ascending: false })\r\n      .limit(50);\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n};\r\n\r\n// ============================================\r\n// CONTACTS\r\n// ============================================\r\n\r\nexport const contactsApi = {\r\n  async submit(contactData) {\r\n    // Convert serviceTypes array to a comma-separated string for subject\r\n    const subject = contactData.serviceTypes && contactData.serviceTypes.length > 0\r\n      ? contactData.serviceTypes.map(type => \r\n          type.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())\r\n        ).join(', ')\r\n      : contactData.subject || 'General Inquiry';\r\n\r\n    const { data, error } = await supabase\r\n      .from('contacts')\r\n      .insert([\r\n        {\r\n          name: contactData.name,\r\n          email: contactData.email,\r\n          phone: contactData.phone || null,\r\n          subject: subject,\r\n          message: contactData.message,\r\n          service_interest: contactData.serviceTypes ? contactData.serviceTypes.join(', ') : (contactData.serviceInterest || contactData.service || null),\r\n          status: 'new',\r\n        },\r\n      ])\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n};\r\n\r\n// ============================================\r\n// GENERIC FORM SUBMISSION\r\n// ============================================\r\n\r\nexport const submitGenericForm = async (formData) => {\r\n  const { data, error } = await supabase\r\n    .from('contacts')\r\n    .insert([\r\n      {\r\n        name: formData.name,\r\n        email: formData.email,\r\n        phone: formData.phone || null,\r\n        subject: 'Generic Form Submission',\r\n        message: formData.additionalDetails || 'No additional details provided',\r\n        status: 'new',\r\n      },\r\n    ])\r\n    .select()\r\n    .single();\r\n\r\n  if (error) throw error;\r\n  return data;\r\n};\r\n\r\n// ============================================\r\n// FILE UPLOADS\r\n// ============================================\r\n\r\nexport const fileUploadApi = {\r\n  async upload(file, contactId, category = 'other') {\r\n    const fileExt = file.name.split('.').pop();\r\n    const fileName = `${contactId}/${Date.now()}.${fileExt}`;\r\n\r\n    // Validate category - must be one of the allowed values\r\n    const validCategories = ['medical_record', 'insurance', 'identification', 'other'];\r\n    const validCategory = validCategories.includes(category) ? category : 'other';\r\n\r\n    // Upload to storage\r\n    const { data: storageData, error: storageError } = await supabase.storage\r\n      .from(STORAGE_BUCKETS.MEDICAL_DOCUMENTS)\r\n      .upload(fileName, file, {\r\n        cacheControl: '3600',\r\n        upsert: false,\r\n      });\r\n\r\n    if (storageError) throw storageError;\r\n\r\n    // Create database record\r\n    const { data: dbData, error: dbError } = await supabase\r\n      .from('file_uploads')\r\n      .insert([\r\n        {\r\n          contact_id: contactId,\r\n          original_filename: file.name,\r\n          storage_path: storageData.path,\r\n          file_size: file.size,\r\n          mime_type: file.type,\r\n          file_category: validCategory,\r\n          upload_status: 'uploaded',\r\n          is_phi: true,\r\n        },\r\n      ])\r\n      .select()\r\n      .single();\r\n\r\n    if (dbError) throw dbError;\r\n    return dbData;\r\n  },\r\n\r\n  async getAll(contactId = null, formSubmissionId = null) {\r\n    let query = supabase\r\n      .from('file_uploads')\r\n      .select('*')\r\n      .order('created_at', { ascending: false });\r\n\r\n    if (contactId) {\r\n      query = query.eq('contact_id', contactId);\r\n    }\r\n\r\n    if (formSubmissionId) {\r\n      query = query.eq('form_submission_id', formSubmissionId);\r\n    }\r\n\r\n    const { data, error } = await query;\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async getById(fileId) {\r\n    const { data, error } = await supabase\r\n      .from('file_uploads')\r\n      .select('*')\r\n      .eq('id', fileId)\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async getDownloadUrl(storagePath) {\r\n    const { data, error } = await supabase.storage\r\n      .from(STORAGE_BUCKETS.MEDICAL_DOCUMENTS)\r\n      .createSignedUrl(storagePath, 3600); // 1 hour expiry\r\n\r\n    if (error) throw error;\r\n    return data.signedUrl;\r\n  },\r\n\r\n  async delete(fileId, storagePath) {\r\n    // Delete from storage\r\n    const { error: storageError } = await supabase.storage\r\n      .from(STORAGE_BUCKETS.MEDICAL_DOCUMENTS)\r\n      .remove([storagePath]);\r\n\r\n    if (storageError) throw storageError;\r\n\r\n    // Delete database record\r\n    const { error: dbError } = await supabase\r\n      .from('file_uploads')\r\n      .delete()\r\n      .eq('id', fileId);\r\n\r\n    if (dbError) throw dbError;\r\n    return true;\r\n  },\r\n};\r\n\r\n// ============================================\r\n// FORM SUBMISSIONS\r\n// ============================================\r\n\r\nexport const formSubmissionsApi = {\r\n  async submit(formData) {\r\n    const { data, error } = await supabase\r\n      .from('form_submissions')\r\n      .insert([\r\n        {\r\n          form_type: formData.formType,\r\n          full_name: formData.fullName,\r\n          email: formData.email,\r\n          phone: formData.phone || null,\r\n          form_data: formData.formData || {},\r\n          requires_upload: formData.requiresUpload || false,\r\n          status: 'new',\r\n        },\r\n      ])\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async getById(id) {\r\n    const { data, error } = await supabase\r\n      .from('form_submissions')\r\n      .select('*')\r\n      .eq('id', id)\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n};\r\n\r\n// Update file upload to support form submissions\r\nconst originalUpload = fileUploadApi.upload;\r\nfileUploadApi.upload = async function(file, contactIdOrFormId, category = 'other', isFormSubmission = false) {\r\n  const fileExt = file.name.split('.').pop();\r\n  const fileName = `${contactIdOrFormId}/${Date.now()}.${fileExt}`;\r\n\r\n  const validCategories = ['medical_record', 'insurance', 'identification', 'other'];\r\n  const validCategory = validCategories.includes(category) ? category : 'other';\r\n\r\n  const { data: storageData, error: storageError } = await supabase.storage\r\n    .from(STORAGE_BUCKETS.MEDICAL_DOCUMENTS)\r\n    .upload(fileName, file, {\r\n      cacheControl: '3600',\r\n      upsert: false,\r\n    });\r\n\r\n  if (storageError) throw storageError;\r\n\r\n  const insertData = {\r\n    original_filename: file.name,\r\n    storage_path: storageData.path,\r\n    file_size: file.size,\r\n    mime_type: file.type,\r\n    file_category: validCategory,\r\n    upload_status: 'uploaded',\r\n    is_phi: true,\r\n  };\r\n\r\n  if (isFormSubmission) {\r\n    insertData.form_submission_id = contactIdOrFormId;\r\n  } else {\r\n    insertData.contact_id = contactIdOrFormId;\r\n  }\r\n\r\n  const { data: dbData, error: dbError } = await supabase\r\n    .from('file_uploads')\r\n    .insert([insertData])\r\n    .select()\r\n    .single();\r\n\r\n  if (dbError) throw dbError;\r\n\r\n  // Update form submission to mark it has uploads\r\n  if (isFormSubmission) {\r\n    await supabase\r\n      .from('form_submissions')\r\n      .update({ has_uploads: true })\r\n      .eq('id', contactIdOrFormId);\r\n  }\r\n\r\n  return dbData;\r\n};\r\n\r\n// ============================================\r\n// CASE STUDIES\r\n// ============================================\r\n\r\n// Utility function to generate slug from title\r\nexport const generateSlug = (title) => {\r\n  return title\r\n    .toLowerCase()\r\n    .trim()\r\n    .replace(/[^\\w\\s-]/g, '') // Remove special characters except spaces and hyphens\r\n    .replace(/\\s+/g, '-') // Replace spaces with hyphens\r\n    .replace(/-+/g, '-') // Replace multiple hyphens with single hyphen\r\n    .replace(/^-+|-+$/g, ''); // Remove leading/trailing hyphens\r\n};\r\n\r\n// Check if slug exists and generate unique slug if needed\r\nconst ensureUniqueSlug = async (slug, excludeId = null) => {\r\n  let uniqueSlug = slug;\r\n  let counter = 1;\r\n  \r\n  while (true) {\r\n    let query = supabase\r\n      .from('case_studies')\r\n      .select('id')\r\n      .eq('slug', uniqueSlug);\r\n    \r\n    if (excludeId) {\r\n      query = query.neq('id', excludeId);\r\n    }\r\n    \r\n    const { data, error } = await query;\r\n    \r\n    if (error) throw error;\r\n    \r\n    if (!data || data.length === 0) {\r\n      return uniqueSlug;\r\n    }\r\n    \r\n    counter++;\r\n    uniqueSlug = `${slug}-${counter}`;\r\n  }\r\n};\r\n\r\nexport const caseStudyApi = {\r\n  async getAll(includeUnpublished = false) {\r\n    let query = supabase\r\n      .from('case_studies')\r\n      .select('*')\r\n      .order('published_at', { ascending: false });\r\n\r\n    if (!includeUnpublished) {\r\n      query = query.eq('is_published', true);\r\n    }\r\n\r\n    const { data, error } = await query;\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async getBySlug(slug) {\r\n    const { data, error } = await supabase\r\n      .from('case_studies')\r\n      .select('*')\r\n      .eq('slug', slug)\r\n      .eq('is_published', true)\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async getById(id) {\r\n    const { data, error } = await supabase\r\n      .from('case_studies')\r\n      .select('*')\r\n      .eq('id', id)\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async create(caseStudyData) {\r\n    // Generate slug from title if not provided\r\n    let slug = caseStudyData.slug || generateSlug(caseStudyData.title);\r\n    \r\n    // Ensure slug is unique\r\n    slug = await ensureUniqueSlug(slug);\r\n\r\n    const { data, error } = await supabase\r\n      .from('case_studies')\r\n      .insert([\r\n        {\r\n          slug,\r\n          title: caseStudyData.title,\r\n          excerpt: caseStudyData.excerpt,\r\n          content_html: caseStudyData.content_html || caseStudyData.challenge,\r\n          challenge: caseStudyData.challenge || null,\r\n          solution: caseStudyData.solution || null,\r\n          results: caseStudyData.results || null,\r\n          key_takeaway: caseStudyData.key_takeaway || null,\r\n          tags: caseStudyData.tags || [],\r\n          is_published: caseStudyData.is_published !== undefined ? caseStudyData.is_published : true,\r\n          published_at: caseStudyData.published_at || new Date().toISOString(),\r\n        },\r\n      ])\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async update(id, caseStudyData) {\r\n    const updateData = {\r\n      title: caseStudyData.title,\r\n      excerpt: caseStudyData.excerpt,\r\n      content_html: caseStudyData.content_html || caseStudyData.challenge,\r\n      challenge: caseStudyData.challenge || null,\r\n      solution: caseStudyData.solution || null,\r\n      results: caseStudyData.results || null,\r\n      key_takeaway: caseStudyData.key_takeaway || null,\r\n      tags: caseStudyData.tags || [],\r\n      is_published: caseStudyData.is_published,\r\n      published_at: caseStudyData.published_at,\r\n    };\r\n\r\n    // If slug is provided and different, ensure it's unique\r\n    if (caseStudyData.slug) {\r\n      const slug = generateSlug(caseStudyData.slug);\r\n      updateData.slug = await ensureUniqueSlug(slug, id);\r\n    }\r\n\r\n    const { data, error } = await supabase\r\n      .from('case_studies')\r\n      .update(updateData)\r\n      .eq('id', id)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async delete(id) {\r\n    const { error } = await supabase\r\n      .from('case_studies')\r\n      .delete()\r\n      .eq('id', id);\r\n\r\n    if (error) throw error;\r\n    return true;\r\n  },\r\n\r\n  async togglePublished(id, currentStatus) {\r\n    const { data, error } = await supabase\r\n      .from('case_studies')\r\n      .update({ is_published: !currentStatus })\r\n      .eq('id', id)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return data;\r\n  },\r\n\r\n  async incrementViews(slug) {\r\n    const { error } = await supabase.rpc('increment_case_study_views', {\r\n      study_slug: slug,\r\n    });\r\n\r\n    if (error) {\r\n      console.error('Error incrementing views:', error);\r\n      // Don't throw error for view increment failures\r\n    }\r\n  },\r\n};\r\n\r\nexport default {\r\n  services: servicesApi,\r\n  blog: blogApi,\r\n  contacts: contactsApi,\r\n  fileUpload: fileUploadApi,\r\n  formSubmissions: formSubmissionsApi,\r\n  caseStudy: caseStudyApi,\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1811, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/lib/fileTypeDetection.js"],"sourcesContent":["/**\r\n * File Type Detection Utility\r\n * Handles file type detection, validation, and preview capability checking\r\n */\r\n\r\n/**\r\n * Common MIME types and their categories\r\n */\r\nconst MIME_TYPE_CATEGORIES = {\r\n  // Images\r\n  'image/jpeg': 'image',\r\n  'image/jpg': 'image',\r\n  'image/png': 'image',\r\n  'image/gif': 'image',\r\n  'image/webp': 'image',\r\n  'image/svg+xml': 'image',\r\n  'image/bmp': 'image',\r\n  \r\n  // PDFs\r\n  'application/pdf': 'pdf',\r\n  \r\n  // Documents\r\n  'application/msword': 'document',\r\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document': 'document',\r\n  'application/vnd.ms-excel': 'document',\r\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': 'document',\r\n  'application/vnd.ms-powerpoint': 'document',\r\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation': 'document',\r\n  'text/plain': 'document',\r\n  'text/csv': 'document',\r\n  \r\n  // Archives\r\n  'application/zip': 'archive',\r\n  'application/x-rar-compressed': 'archive',\r\n  'application/x-7z-compressed': 'archive',\r\n  'application/x-tar': 'archive',\r\n  'application/gzip': 'archive',\r\n};\r\n\r\n/**\r\n * File extensions mapped to MIME types\r\n */\r\nconst EXTENSION_TO_MIME = {\r\n  // Images\r\n  'jpg': 'image/jpeg',\r\n  'jpeg': 'image/jpeg',\r\n  'png': 'image/png',\r\n  'gif': 'image/gif',\r\n  'webp': 'image/webp',\r\n  'svg': 'image/svg+xml',\r\n  'bmp': 'image/bmp',\r\n  \r\n  // PDFs\r\n  'pdf': 'application/pdf',\r\n  \r\n  // Documents\r\n  'doc': 'application/msword',\r\n  'docx': 'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n  'xls': 'application/vnd.ms-excel',\r\n  'xlsx': 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n  'ppt': 'application/vnd.ms-powerpoint',\r\n  'pptx': 'application/vnd.openxmlformats-officedocument.presentationml.presentation',\r\n  'txt': 'text/plain',\r\n  'csv': 'text/csv',\r\n  \r\n  // Archives\r\n  'zip': 'application/zip',\r\n  'rar': 'application/x-rar-compressed',\r\n  '7z': 'application/x-7z-compressed',\r\n  'tar': 'application/x-tar',\r\n  'gz': 'application/gzip',\r\n};\r\n\r\n/**\r\n * Get file extension from filename\r\n * @param {string} filename - The filename\r\n * @returns {string} - File extension in lowercase\r\n */\r\nexport const getFileExtension = (filename) => {\r\n  if (!filename || typeof filename !== 'string') return '';\r\n  \r\n  const parts = filename.split('.');\r\n  if (parts.length < 2) return '';\r\n  \r\n  return parts[parts.length - 1].toLowerCase();\r\n};\r\n\r\n/**\r\n * Get MIME type from file extension\r\n * @param {string} filename - The filename\r\n * @returns {string|null} - MIME type or null if unknown\r\n */\r\nexport const getMimeTypeFromExtension = (filename) => {\r\n  const extension = getFileExtension(filename);\r\n  return EXTENSION_TO_MIME[extension] || null;\r\n};\r\n\r\n/**\r\n * Get file category from MIME type\r\n * @param {string} mimeType - The MIME type\r\n * @returns {string} - Category (image, pdf, document, archive, unknown)\r\n */\r\nexport const getFileCategory = (mimeType) => {\r\n  if (!mimeType) return 'unknown';\r\n  \r\n  // Normalize MIME type\r\n  const normalized = mimeType.toLowerCase().trim();\r\n  \r\n  return MIME_TYPE_CATEGORIES[normalized] || 'unknown';\r\n};\r\n\r\n/**\r\n * Check if file is an image\r\n * @param {string} mimeType - The MIME type\r\n * @returns {boolean} - True if file is an image\r\n */\r\nexport const isImage = (mimeType) => {\r\n  return getFileCategory(mimeType) === 'image';\r\n};\r\n\r\n/**\r\n * Check if file is a PDF\r\n * @param {string} mimeType - The MIME type\r\n * @returns {boolean} - True if file is a PDF\r\n */\r\nexport const isPDF = (mimeType) => {\r\n  return getFileCategory(mimeType) === 'pdf';\r\n};\r\n\r\n/**\r\n * Check if file is a document\r\n * @param {string} mimeType - The MIME type\r\n * @returns {boolean} - True if file is a document\r\n */\r\nexport const isDocument = (mimeType) => {\r\n  return getFileCategory(mimeType) === 'document';\r\n};\r\n\r\n/**\r\n * Check if file can be previewed in browser\r\n * @param {string} mimeType - The MIME type\r\n * @returns {boolean} - True if file can be previewed\r\n */\r\nexport const canPreview = (mimeType) => {\r\n  const category = getFileCategory(mimeType);\r\n  return category === 'image' || category === 'pdf';\r\n};\r\n\r\n/**\r\n * Validate file extension against allowed types\r\n * @param {string} filename - The filename\r\n * @param {array} allowedExtensions - Array of allowed extensions (e.g., ['pdf', 'jpg', 'png'])\r\n * @returns {boolean} - True if extension is allowed\r\n */\r\nexport const isValidFileExtension = (filename, allowedExtensions = []) => {\r\n  if (!allowedExtensions || allowedExtensions.length === 0) return true;\r\n  \r\n  const extension = getFileExtension(filename);\r\n  return allowedExtensions.map(ext => ext.toLowerCase()).includes(extension);\r\n};\r\n\r\n/**\r\n * Validate MIME type against allowed types\r\n * @param {string} mimeType - The MIME type\r\n * @param {array} allowedMimeTypes - Array of allowed MIME types\r\n * @returns {boolean} - True if MIME type is allowed\r\n */\r\nexport const isValidMimeType = (mimeType, allowedMimeTypes = []) => {\r\n  if (!allowedMimeTypes || allowedMimeTypes.length === 0) return true;\r\n  \r\n  const normalized = mimeType.toLowerCase().trim();\r\n  return allowedMimeTypes.map(type => type.toLowerCase()).includes(normalized);\r\n};\r\n\r\n/**\r\n * Get human-readable file type label\r\n * @param {string} mimeType - The MIME type\r\n * @param {string} filename - The filename (optional, for fallback)\r\n * @returns {string} - Human-readable file type\r\n */\r\nexport const getFileTypeLabel = (mimeType, filename = '') => {\r\n  const category = getFileCategory(mimeType);\r\n  \r\n  switch (category) {\r\n    case 'image':\r\n      return 'Image';\r\n    case 'pdf':\r\n      return 'PDF Document';\r\n    case 'document':\r\n      const ext = getFileExtension(filename).toUpperCase();\r\n      if (ext === 'DOC' || ext === 'DOCX') return 'Word Document';\r\n      if (ext === 'XLS' || ext === 'XLSX') return 'Excel Spreadsheet';\r\n      if (ext === 'PPT' || ext === 'PPTX') return 'PowerPoint Presentation';\r\n      if (ext === 'TXT') return 'Text File';\r\n      if (ext === 'CSV') return 'CSV File';\r\n      return 'Document';\r\n    case 'archive':\r\n      return 'Archive';\r\n    default:\r\n      const extension = getFileExtension(filename);\r\n      return extension ? `${extension.toUpperCase()} File` : 'Unknown File';\r\n  }\r\n};\r\n\r\n/**\r\n * Format file size to human-readable format\r\n * @param {number} bytes - File size in bytes\r\n * @returns {string} - Formatted file size\r\n */\r\nexport const formatFileSize = (bytes) => {\r\n  if (!bytes || bytes === 0) return '0 Bytes';\r\n  \r\n  const k = 1024;\r\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\r\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n  \r\n  return Math.round((bytes / Math.pow(k, i)) * 100) / 100 + ' ' + sizes[i];\r\n};\r\n\r\n/**\r\n * Get icon name for file type (for use with lucide-react)\r\n * @param {string} mimeType - The MIME type\r\n * @returns {string} - Icon name\r\n */\r\nexport const getFileIcon = (mimeType) => {\r\n  const category = getFileCategory(mimeType);\r\n  \r\n  switch (category) {\r\n    case 'image':\r\n      return 'Image';\r\n    case 'pdf':\r\n      return 'FileText';\r\n    case 'document':\r\n      return 'FileText';\r\n    case 'archive':\r\n      return 'Archive';\r\n    default:\r\n      return 'File';\r\n  }\r\n};\r\n\r\n/**\r\n * Check if file meets size requirements\r\n * @param {number} fileSize - File size in bytes\r\n * @param {number} maxSize - Maximum allowed size in bytes\r\n * @returns {boolean} - True if file size is valid\r\n */\r\nexport const isValidFileSize = (fileSize, maxSize) => {\r\n  if (!maxSize) return true;\r\n  return fileSize <= maxSize;\r\n};\r\n\r\n/**\r\n * Get preview type for file\r\n * @param {string} mimeType - The MIME type\r\n * @returns {string} - Preview type (image, pdf, none)\r\n */\r\nexport const getPreviewType = (mimeType) => {\r\n  if (isImage(mimeType)) return 'image';\r\n  if (isPDF(mimeType)) return 'pdf';\r\n  return 'none';\r\n};\r\n\r\n/**\r\n * Comprehensive file validation\r\n * @param {object} file - File object with properties: name, size, mime_type\r\n * @param {object} options - Validation options\r\n * @param {array} options.allowedExtensions - Allowed file extensions\r\n * @param {array} options.allowedMimeTypes - Allowed MIME types\r\n * @param {number} options.maxSize - Maximum file size in bytes\r\n * @returns {object} - Validation result { valid: boolean, error: string }\r\n */\r\nexport const validateFile = (file, options = {}) => {\r\n  const {\r\n    allowedExtensions = [],\r\n    allowedMimeTypes = [],\r\n    maxSize = null\r\n  } = options;\r\n\r\n  // Check file extension\r\n  if (allowedExtensions.length > 0 && !isValidFileExtension(file.name, allowedExtensions)) {\r\n    return {\r\n      valid: false,\r\n      error: `File type not allowed. Allowed types: ${allowedExtensions.join(', ')}`\r\n    };\r\n  }\r\n\r\n  // Check MIME type\r\n  if (allowedMimeTypes.length > 0 && !isValidMimeType(file.mime_type, allowedMimeTypes)) {\r\n    return {\r\n      valid: false,\r\n      error: 'File type not allowed'\r\n    };\r\n  }\r\n\r\n  // Check file size\r\n  if (maxSize && !isValidFileSize(file.size, maxSize)) {\r\n    return {\r\n      valid: false,\r\n      error: `File size exceeds maximum allowed size of ${formatFileSize(maxSize)}`\r\n    };\r\n  }\r\n\r\n  return { valid: true, error: null };\r\n};\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2037, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/components/admin/SkeletonLoader.js"],"sourcesContent":["import React from 'react';\r\n\r\n/**\r\n * SkeletonLoader Component\r\n * Provides loading skeleton UI for various content types\r\n */\r\n\r\n/**\r\n * File List Skeleton\r\n * Used in DocumentViewer while files are loading\r\n */\r\nexport const FileListSkeleton = ({ count = 3 }) => {\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      {Array.from({ length: count }).map((_, index) => (\r\n        <div\r\n          key={index}\r\n          className=\"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200 animate-pulse\"\r\n        >\r\n          <div className=\"flex items-center space-x-4 flex-1\">\r\n            {/* Icon skeleton */}\r\n            <div className=\"w-8 h-8 bg-slate-300 rounded\" />\r\n            \r\n            {/* Content skeleton */}\r\n            <div className=\"flex-1 space-y-2\">\r\n              <div className=\"h-4 bg-slate-300 rounded w-3/4\" />\r\n              <div className=\"h-3 bg-slate-200 rounded w-1/2\" />\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Actions skeleton */}\r\n          <div className=\"flex items-center space-x-2\">\r\n            <div className=\"w-9 h-9 bg-slate-300 rounded-lg\" />\r\n            <div className=\"w-9 h-9 bg-slate-300 rounded-lg\" />\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Table Row Skeleton\r\n * Used in FormSubmissions table while loading\r\n */\r\nexport const TableRowSkeleton = ({ columns = 7, rows = 5 }) => {\r\n  return (\r\n    <>\r\n      {Array.from({ length: rows }).map((_, rowIndex) => (\r\n        <tr key={rowIndex} className=\"animate-pulse\">\r\n          {Array.from({ length: columns }).map((_, colIndex) => (\r\n            <td key={colIndex} className=\"px-6 py-4 whitespace-nowrap\">\r\n              <div className=\"h-4 bg-slate-200 rounded w-full\" />\r\n            </td>\r\n          ))}\r\n        </tr>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\n/**\r\n * Form Data Skeleton\r\n * Used in FormDataParser while parsing\r\n */\r\nexport const FormDataSkeleton = () => {\r\n  return (\r\n    <div className=\"space-y-6 animate-pulse\">\r\n      {Array.from({ length: 3 }).map((_, sectionIndex) => (\r\n        <div key={sectionIndex} className=\"space-y-3\">\r\n          {/* Section title */}\r\n          <div className=\"h-6 bg-slate-300 rounded w-1/4 mb-4\" />\r\n          \r\n          {/* Fields */}\r\n          <div className=\"space-y-3\">\r\n            {Array.from({ length: 4 }).map((_, fieldIndex) => (\r\n              <div key={fieldIndex} className=\"grid grid-cols-1 sm:grid-cols-3 gap-2\">\r\n                <div className=\"h-4 bg-slate-200 rounded w-3/4\" />\r\n                <div className=\"sm:col-span-2 h-4 bg-slate-200 rounded w-full\" />\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * Card Skeleton\r\n * Generic card skeleton for dashboard cards\r\n */\r\nexport const CardSkeleton = ({ count = 1 }) => {\r\n  return (\r\n    <>\r\n      {Array.from({ length: count }).map((_, index) => (\r\n        <div\r\n          key={index}\r\n          className=\"bg-white rounded-xl shadow-sm p-6 border border-slate-200 animate-pulse\"\r\n        >\r\n          <div className=\"space-y-3\">\r\n            <div className=\"h-4 bg-slate-200 rounded w-1/3\" />\r\n            <div className=\"h-8 bg-slate-300 rounded w-1/2\" />\r\n            <div className=\"h-3 bg-slate-200 rounded w-2/3\" />\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default {\r\n  FileListSkeleton,\r\n  TableRowSkeleton,\r\n  FormDataSkeleton,\r\n  CardSkeleton\r\n};\r\n"],"names":[],"mappings":";;;;;;;;;;;;;AAAA;;;AAWO,MAAM,mBAAmB,CAAC,EAAE,QAAQ,CAAC,EAAE;IAC5C,qBACE,sKAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAM,GAAG,GAAG,CAAC,CAAC,GAAG,sBACrC,sKAAC;gBAEC,WAAU;;kCAEV,sKAAC;wBAAI,WAAU;;0CAEb,sKAAC;gCAAI,WAAU;;;;;;0CAGf,sKAAC;gCAAI,WAAU;;kDACb,sKAAC;wCAAI,WAAU;;;;;;kDACf,sKAAC;wCAAI,WAAU;;;;;;;;;;;;;;;;;;kCAKnB,sKAAC;wBAAI,WAAU;;0CACb,sKAAC;gCAAI,WAAU;;;;;;0CACf,sKAAC;gCAAI,WAAU;;;;;;;;;;;;;eAjBZ;;;;;;;;;;AAuBf;KA5Ba;AAkCN,MAAM,mBAAmB,CAAC,EAAE,UAAU,CAAC,EAAE,OAAO,CAAC,EAAE;IACxD,qBACE;kBACG,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAK,GAAG,GAAG,CAAC,CAAC,GAAG,yBACpC,sKAAC;gBAAkB,WAAU;0BAC1B,MAAM,IAAI,CAAC;oBAAE,QAAQ;gBAAQ,GAAG,GAAG,CAAC,CAAC,GAAG,yBACvC,sKAAC;wBAAkB,WAAU;kCAC3B,cAAA,sKAAC;4BAAI,WAAU;;;;;;uBADR;;;;;eAFJ;;;;;;AAUjB;MAda;AAoBN,MAAM,mBAAmB;IAC9B,qBACE,sKAAC;QAAI,WAAU;kBACZ,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAE,GAAG,GAAG,CAAC,CAAC,GAAG,6BACjC,sKAAC;gBAAuB,WAAU;;kCAEhC,sKAAC;wBAAI,WAAU;;;;;;kCAGf,sKAAC;wBAAI,WAAU;kCACZ,MAAM,IAAI,CAAC;4BAAE,QAAQ;wBAAE,GAAG,GAAG,CAAC,CAAC,GAAG,2BACjC,sKAAC;gCAAqB,WAAU;;kDAC9B,sKAAC;wCAAI,WAAU;;;;;;kDACf,sKAAC;wCAAI,WAAU;;;;;;;+BAFP;;;;;;;;;;;eAPN;;;;;;;;;;AAiBlB;MArBa;AA2BN,MAAM,eAAe,CAAC,EAAE,QAAQ,CAAC,EAAE;IACxC,qBACE;kBACG,MAAM,IAAI,CAAC;YAAE,QAAQ;QAAM,GAAG,GAAG,CAAC,CAAC,GAAG,sBACrC,sKAAC;gBAEC,WAAU;0BAEV,cAAA,sKAAC;oBAAI,WAAU;;sCACb,sKAAC;4BAAI,WAAU;;;;;;sCACf,sKAAC;4BAAI,WAAU;;;;;;sCACf,sKAAC;4BAAI,WAAU;;;;;;;;;;;;eANZ;;;;;;AAYf;MAjBa;uCAmBE;IACb;IACA;IACA;IACA;AACF"}},
    {"offset": {"line": 2288, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/components/admin/DocumentViewer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { fileUploadApi } from '../../lib/api';\r\nimport { \r\n  getFileIcon, \r\n  formatFileSize, \r\n  getFileTypeLabel \r\n} from '../../lib/fileTypeDetection';\r\nimport { \r\n  File, \r\n  FileText, \r\n  Image as ImageIcon, \r\n  Archive, \r\n  Download, \r\n  Eye, \r\n  AlertCircle \r\n} from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { FileListSkeleton } from './SkeletonLoader';\r\n\r\n/**\r\n * DocumentViewer Component\r\n * Displays a list of uploaded documents with metadata and preview capability\r\n * \r\n * @param {object} props\r\n * @param {string} props.contactId - Contact ID to fetch files for (optional)\r\n * @param {string} props.formSubmissionId - Form submission ID to fetch files for (optional)\r\n * @param {function} props.onFileClick - Callback when file is clicked for preview\r\n * @param {string} props.className - Additional CSS classes\r\n */\r\nconst DocumentViewer = React.memo(({ \r\n  contactId = null, \r\n  formSubmissionId = null, \r\n  onFileClick = null,\r\n  className = '' \r\n}) => {\r\n  const [files, setFiles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchFiles();\r\n  }, [contactId, formSubmissionId]);\r\n\r\n  /**\r\n   * Fetch files from the API\r\n   */\r\n  const fetchFiles = async () => {\r\n    setLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      // Fetch files based on contactId or formSubmissionId\r\n      const data = await fileUploadApi.getAll(contactId, formSubmissionId);\r\n      \r\n      setFiles(data);\r\n    } catch (err) {\r\n      console.error('Error fetching files:', err);\r\n      setError('Failed to load documents');\r\n      toast.error('Failed to load documents');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Handle file download\r\n   */\r\n  const handleDownload = async (file, e) => {\r\n    e.stopPropagation();\r\n    \r\n    try {\r\n      const signedUrl = await fileUploadApi.getDownloadUrl(file.storage_path);\r\n      \r\n      // Create a temporary link and trigger download\r\n      const link = document.createElement('a');\r\n      link.href = signedUrl;\r\n      link.download = file.original_filename;\r\n      document.body.appendChild(link);\r\n      link.click();\r\n      document.body.removeChild(link);\r\n      \r\n      toast.success('Download started');\r\n    } catch (err) {\r\n      console.error('Error downloading file:', err);\r\n      toast.error('Failed to download file');\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Get icon component based on file type\r\n   */\r\n  const getIconComponent = (mimeType) => {\r\n    const iconName = getFileIcon(mimeType);\r\n    \r\n    switch (iconName) {\r\n      case 'Image':\r\n        return ImageIcon;\r\n      case 'FileText':\r\n        return FileText;\r\n      case 'Archive':\r\n        return Archive;\r\n      default:\r\n        return File;\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Format date for display\r\n   */\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  // Loading state\r\n  if (loading) {\r\n    return (\r\n      <div className={className}>\r\n        <FileListSkeleton count={3} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Error state\r\n  if (error) {\r\n    return (\r\n      <div className={`text-center py-12 ${className}`}>\r\n        <div className=\"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-4\">\r\n          <AlertCircle className=\"w-6 h-6 text-red-600\" />\r\n        </div>\r\n        <h3 className=\"text-lg font-semibold text-slate-900 mb-2\">Failed to Load Documents</h3>\r\n        <p className=\"text-slate-600 mb-6\">{error}</p>\r\n        <button\r\n          onClick={fetchFiles}\r\n          className=\"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n        >\r\n          Try Again\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Empty state\r\n  if (files.length === 0) {\r\n    return (\r\n      <div className={`text-center py-12 ${className}`}>\r\n        <File className=\"w-12 h-12 text-slate-300 mx-auto mb-4\" />\r\n        <p className=\"text-slate-500 text-sm\">No documents uploaded</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Files list\r\n  return (\r\n    <div className={`space-y-3 ${className}`}>\r\n      {files.map((file) => {\r\n        const IconComponent = getIconComponent(file.mime_type);\r\n        const fileTypeLabel = getFileTypeLabel(file.mime_type, file.original_filename);\r\n        const formattedSize = formatFileSize(file.file_size);\r\n        const formattedDate = formatDate(file.created_at);\r\n\r\n        return (\r\n          <div\r\n            key={file.id}\r\n            className=\"flex items-center justify-between p-4 bg-slate-50 rounded-lg border border-slate-200 hover:bg-slate-100 transition-colors\"\r\n          >\r\n            {/* File Info */}\r\n            <div className=\"flex items-center space-x-4 flex-1 min-w-0\">\r\n              {/* Icon */}\r\n              <div className=\"flex-shrink-0\">\r\n                <IconComponent className=\"w-8 h-8 text-indigo-600\" />\r\n              </div>\r\n\r\n              {/* Details */}\r\n              <div className=\"flex-1 min-w-0\">\r\n                <h4 className=\"text-sm font-medium text-slate-900 truncate\">\r\n                  {file.original_filename}\r\n                </h4>\r\n                <div className=\"flex items-center space-x-3 mt-1 text-xs text-slate-500\">\r\n                  <span>{fileTypeLabel}</span>\r\n                  <span></span>\r\n                  <span>{formattedSize}</span>\r\n                  <span></span>\r\n                  <span>{formattedDate}</span>\r\n                </div>\r\n                {file.file_category && file.file_category !== 'other' && (\r\n                  <div className=\"mt-1\">\r\n                    <span className=\"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-indigo-100 text-indigo-800\">\r\n                      {file.file_category.replace('_', ' ')}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Actions */}\r\n            <div className=\"flex items-center space-x-2 ml-4\">\r\n              {/* Preview Button */}\r\n              {onFileClick && (\r\n                <button\r\n                  onClick={() => onFileClick(file)}\r\n                  className=\"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors\"\r\n                  title=\"Preview file\"\r\n                  aria-label={`Preview ${file.original_filename}`}\r\n                >\r\n                  <Eye className=\"w-5 h-5\" aria-hidden=\"true\" />\r\n                </button>\r\n              )}\r\n\r\n              {/* Download Button */}\r\n              <button\r\n                onClick={(e) => handleDownload(file, e)}\r\n                className=\"p-2 text-slate-600 hover:bg-slate-200 rounded-lg transition-colors\"\r\n                title=\"Download file\"\r\n                aria-label={`Download ${file.original_filename}`}\r\n              >\r\n                <Download className=\"w-5 h-5\" aria-hidden=\"true\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n});\r\n\r\nDocumentViewer.displayName = 'DocumentViewer';\r\n\r\nexport default DocumentViewer;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2673, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/components/admin/FilePreviewModal.js"],"sourcesContent":["import { useState, useEffect, useCallback } from 'react';\r\nimport { X, Download, Loader2, AlertCircle } from 'lucide-react';\r\nimport { fileUploadApi } from '../../lib/api';\r\nimport { canPreview, getPreviewType, getFileTypeLabel } from '../../lib/fileTypeDetection';\r\n\r\n/**\r\n * FilePreviewModal Component\r\n * \r\n * Displays a modal for previewing uploaded files (PDFs and images)\r\n * with download capability and proper error handling.\r\n * \r\n * @param {Object} props\r\n * @param {Object} props.file - File object with storage_path, original_filename, mime_type\r\n * @param {boolean} props.isOpen - Whether the modal is open\r\n * @param {Function} props.onClose - Callback to close the modal\r\n */\r\nconst FilePreviewModal = ({ file, isOpen, onClose }) => {\r\n  const [signedUrl, setSignedUrl] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Generate signed URL when modal opens\r\n  useEffect(() => {\r\n    if (!isOpen || !file) {\r\n      setSignedUrl(null);\r\n      setLoading(true);\r\n      setError(null);\r\n      return;\r\n    }\r\n\r\n    const generateSignedUrl = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      try {\r\n        const url = await fileUploadApi.getDownloadUrl(file.storage_path);\r\n        setSignedUrl(url);\r\n      } catch (err) {\r\n        console.error('Error generating signed URL:', err);\r\n        setError('Failed to load file. Please try again.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    generateSignedUrl();\r\n  }, [isOpen, file]);\r\n\r\n  // Handle ESC key to close modal\r\n  useEffect(() => {\r\n    const handleEscape = (e) => {\r\n      if (e.key === 'Escape' && isOpen) {\r\n        onClose();\r\n      }\r\n    };\r\n\r\n    document.addEventListener('keydown', handleEscape);\r\n    return () => document.removeEventListener('keydown', handleEscape);\r\n  }, [isOpen, onClose]);\r\n\r\n  // Prevent body scroll when modal is open\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      document.body.style.overflow = 'hidden';\r\n    } else {\r\n      document.body.style.overflow = 'unset';\r\n    }\r\n\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [isOpen]);\r\n\r\n  // Handle click outside to close\r\n  const handleBackdropClick = useCallback((e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  }, [onClose]);\r\n\r\n  // Handle download\r\n  const handleDownload = useCallback(() => {\r\n    if (!signedUrl) return;\r\n\r\n    const link = document.createElement('a');\r\n    link.href = signedUrl;\r\n    link.download = file.original_filename;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  }, [signedUrl, file]);\r\n\r\n  if (!isOpen) return null;\r\n\r\n  const previewType = getPreviewType(file.mime_type);\r\n  const fileTypeLabel = getFileTypeLabel(file.mime_type, file.original_filename);\r\n  const canShowPreview = canPreview(file.mime_type);\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50\"\r\n      onClick={handleBackdropClick}\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      aria-labelledby=\"file-preview-title\"\r\n    >\r\n      <div className=\"bg-white rounded-lg sm:rounded-xl max-w-5xl w-full max-h-[95vh] sm:max-h-[90vh] flex flex-col shadow-2xl\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between p-3 sm:p-4 border-b border-slate-200\">\r\n          <div className=\"flex-1 min-w-0\">\r\n            <h2\r\n              id=\"file-preview-title\"\r\n              className=\"text-base sm:text-lg font-semibold text-slate-900 truncate\"\r\n              title={file.original_filename}\r\n            >\r\n              {file.original_filename}\r\n            </h2>\r\n            <p className=\"text-xs sm:text-sm text-slate-500 mt-1\">{fileTypeLabel}</p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"ml-2 sm:ml-4 text-slate-400 hover:text-slate-600 transition-colors flex-shrink-0\"\r\n            aria-label=\"Close preview\"\r\n          >\r\n            <X className=\"w-5 h-5 sm:w-6 sm:h-6\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 overflow-auto p-3 sm:p-6 bg-slate-50\">\r\n          {loading && (\r\n            <div className=\"flex flex-col items-center justify-center h-full min-h-[400px]\">\r\n              <Loader2 className=\"w-12 h-12 text-indigo-600 animate-spin\" />\r\n              <p className=\"text-slate-600 mt-4\">Loading preview...</p>\r\n            </div>\r\n          )}\r\n\r\n          {error && (\r\n            <div className=\"flex flex-col items-center justify-center h-full min-h-[400px]\">\r\n              <AlertCircle className=\"w-12 h-12 text-red-500\" />\r\n              <p className=\"text-slate-900 font-medium mt-4\">{error}</p>\r\n              <button\r\n                onClick={() => window.location.reload()}\r\n                className=\"mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n              >\r\n                Retry\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {!loading && !error && signedUrl && (\r\n            <>\r\n              {previewType === 'pdf' && (\r\n                <div className=\"bg-white rounded-lg shadow-sm overflow-hidden h-full min-h-[400px] sm:min-h-[600px]\">\r\n                  <iframe\r\n                    src={signedUrl}\r\n                    className=\"w-full h-full min-h-[400px] sm:min-h-[600px]\"\r\n                    title={`PDF preview of ${file.original_filename}`}\r\n                    aria-label=\"PDF document preview\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {previewType === 'image' && (\r\n                <div className=\"flex items-center justify-center\">\r\n                  <img\r\n                    src={signedUrl}\r\n                    alt={file.original_filename}\r\n                    className=\"max-w-full h-auto rounded-lg shadow-lg\"\r\n                    style={{ maxHeight: '70vh' }}\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {previewType === 'none' && (\r\n                <div className=\"flex flex-col items-center justify-center h-full min-h-[400px]\">\r\n                  <AlertCircle className=\"w-12 h-12 text-slate-400\" />\r\n                  <p className=\"text-slate-900 font-medium mt-4\">Preview not available</p>\r\n                  <p className=\"text-slate-600 mt-2\">\r\n                    This file type cannot be previewed in the browser.\r\n                  </p>\r\n                  <p className=\"text-slate-600\">Please download the file to view it.</p>\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"flex flex-col-reverse sm:flex-row items-stretch sm:items-center justify-between gap-2 sm:gap-0 p-3 sm:p-4 border-t border-slate-200 bg-white\">\r\n          <button\r\n            onClick={handleDownload}\r\n            disabled={!signedUrl || loading}\r\n            className=\"flex items-center justify-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:bg-slate-300 disabled:cursor-not-allowed transition-colors text-sm sm:text-base\"\r\n            aria-label=\"Download file\"\r\n          >\r\n            <Download className=\"w-4 h-4\" />\r\n            <span>Download</span>\r\n          </button>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors text-sm sm:text-base\"\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilePreviewModal;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3076, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/components/admin/ContactDetailModal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { X } from 'lucide-react';\r\nimport FormDataParser from './FormDataParser';\r\nimport DocumentViewer from './DocumentViewer';\r\nimport FilePreviewModal from './FilePreviewModal';\r\n\r\n/**\r\n * ContactDetailModal Component\r\n * \r\n * Enhanced modal for viewing contact details with tabbed interface\r\n * Includes Details, Documents, and Activity tabs\r\n * \r\n * @param {Object} props\r\n * @param {Object} props.contact - Contact object with all details\r\n * @param {boolean} props.isOpen - Whether the modal is open\r\n * @param {Function} props.onClose - Callback to close the modal\r\n * @param {Function} props.onDelete - Callback to delete the contact\r\n */\r\nconst ContactDetailModal = ({ contact, isOpen, onClose, onDelete }) => {\r\n  const [activeTab, setActiveTab] = useState('details');\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n\r\n  // Don't render if not open\r\n  if (!isOpen || !contact) return null;\r\n\r\n  /**\r\n   * Format date for display\r\n   */\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n\r\n  /**\r\n   * Handle backdrop click to close\r\n   */\r\n  const handleBackdropClick = (e) => {\r\n    if (e.target === e.currentTarget) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Handle delete with confirmation\r\n   */\r\n  const handleDelete = () => {\r\n    if (showDeleteConfirm) {\r\n      onDelete(contact.id);\r\n      onClose();\r\n    } else {\r\n      setShowDeleteConfirm(true);\r\n    }\r\n  };\r\n\r\n  /**\r\n   * Handle file click for preview\r\n   */\r\n  const handleFileClick = (file) => {\r\n    setSelectedFile(file);\r\n  };\r\n\r\n  /**\r\n   * Tab configuration\r\n   */\r\n  const tabs = [\r\n    { id: 'details', label: 'Details' },\r\n    { id: 'documents', label: 'Documents' },\r\n    { id: 'activity', label: 'Activity' }\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {/* Main Modal */}\r\n      <div\r\n        className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50\"\r\n        onClick={handleBackdropClick}\r\n        role=\"dialog\"\r\n        aria-modal=\"true\"\r\n        aria-labelledby=\"contact-detail-title\"\r\n      >\r\n        <div className=\"bg-white rounded-lg sm:rounded-xl max-w-4xl w-full max-h-[95vh] sm:max-h-[90vh] flex flex-col shadow-2xl\">\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between p-4 sm:p-6 border-b border-slate-200\">\r\n            <div className=\"flex-1 min-w-0 pr-2\">\r\n              <h2\r\n                id=\"contact-detail-title\"\r\n                className=\"text-xl sm:text-2xl font-bold text-slate-900 truncate\"\r\n              >\r\n                Contact Details\r\n              </h2>\r\n              <p className=\"text-xs sm:text-sm text-slate-500 mt-1 truncate\">\r\n                {contact.name}  {formatDate(contact.created_at)}\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"text-slate-400 hover:text-slate-600 transition-colors flex-shrink-0\"\r\n              aria-label=\"Close modal\"\r\n            >\r\n              <X className=\"w-5 h-5 sm:w-6 sm:h-6\" />\r\n            </button>\r\n          </div>\r\n\r\n          {/* Tabs */}\r\n          <div className=\"border-b border-slate-200 px-4 sm:px-6 overflow-x-auto\">\r\n            <nav className=\"flex space-x-4 sm:space-x-8 min-w-max\" aria-label=\"Contact detail tabs\">\r\n              {tabs.map((tab) => (\r\n                <button\r\n                  key={tab.id}\r\n                  onClick={() => setActiveTab(tab.id)}\r\n                  className={`\r\n                    py-3 sm:py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap transition-colors\r\n                    ${activeTab === tab.id\r\n                      ? 'border-indigo-600 text-indigo-600'\r\n                      : 'border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300'\r\n                    }\r\n                  `}\r\n                  aria-current={activeTab === tab.id ? 'page' : undefined}\r\n                >\r\n                  {tab.label}\r\n                </button>\r\n              ))}\r\n            </nav>\r\n          </div>\r\n\r\n          {/* Content */}\r\n          <div className=\"flex-1 overflow-y-auto p-4 sm:p-6\">\r\n            {/* Details Tab */}\r\n            {activeTab === 'details' && (\r\n              <div className=\"space-y-6\">\r\n                {/* Basic Contact Information */}\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <label className=\"text-sm font-semibold text-slate-700\">Name</label>\r\n                    <p className=\"text-slate-900 mt-1\">{contact.name}</p>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <label className=\"text-sm font-semibold text-slate-700\">Email</label>\r\n                    <p className=\"text-slate-900 mt-1\">{contact.email}</p>\r\n                  </div>\r\n\r\n                  {contact.phone && (\r\n                    <div>\r\n                      <label className=\"text-sm font-semibold text-slate-700\">Phone</label>\r\n                      <p className=\"text-slate-900 mt-1\">{contact.phone}</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {contact.subject && (\r\n                    <div>\r\n                      <label className=\"text-sm font-semibold text-slate-700\">Subject</label>\r\n                      <p className=\"text-slate-900 mt-1\">{contact.subject}</p>\r\n                    </div>\r\n                  )}\r\n\r\n                  {contact.service_interest && (\r\n                    <div>\r\n                      <label className=\"text-sm font-semibold text-slate-700\">Service Interest</label>\r\n                      <p className=\"text-slate-900 mt-1\">{contact.service_interest}</p>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Message / Form Data */}\r\n                {contact.message && (\r\n                  <div>\r\n                    <label className=\"text-sm font-semibold text-slate-700 block mb-3\">\r\n                      Message / Form Data\r\n                    </label>\r\n                    <div className=\"bg-slate-50 rounded-lg p-4 border border-slate-200\">\r\n                      <FormDataParser \r\n                        data={contact.message}\r\n                        formType={contact.form_type || null}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {/* Documents Tab */}\r\n            {activeTab === 'documents' && (\r\n              <div>\r\n                <DocumentViewer\r\n                  contactId={contact.id}\r\n                  onFileClick={handleFileClick}\r\n                />\r\n              </div>\r\n            )}\r\n\r\n            {/* Activity Tab */}\r\n            {activeTab === 'activity' && (\r\n              <div className=\"space-y-4\">\r\n                <div className=\"bg-slate-50 rounded-lg p-6 border border-slate-200\">\r\n                  <h3 className=\"text-sm font-semibold text-slate-700 mb-3\">Submission Timeline</h3>\r\n                  <div className=\"space-y-3\">\r\n                    <div className=\"flex items-start space-x-3\">\r\n                      <div className=\"w-2 h-2 bg-indigo-600 rounded-full mt-2\"></div>\r\n                      <div>\r\n                        <p className=\"text-sm font-medium text-slate-900\">Form Submitted</p>\r\n                        <p className=\"text-xs text-slate-500\">{formatDate(contact.created_at)}</p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <p className=\"text-sm text-slate-500 text-center py-8\">\r\n                  Additional activity tracking coming soon\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Footer */}\r\n          <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3 p-4 sm:p-6 border-t border-slate-200 bg-slate-50\">\r\n            <div className=\"order-2 sm:order-1\">\r\n              {showDeleteConfirm && (\r\n                <p className=\"text-xs sm:text-sm text-red-600 font-medium text-center sm:text-left\">\r\n                  Click Delete again to confirm\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div className=\"flex flex-col-reverse sm:flex-row gap-2 sm:gap-3 order-1 sm:order-2\">\r\n              <button\r\n                onClick={onClose}\r\n                className=\"px-4 py-2 border border-slate-300 rounded-lg hover:bg-white transition-colors text-sm sm:text-base\"\r\n              >\r\n                Close\r\n              </button>\r\n              <button\r\n                onClick={handleDelete}\r\n                className={`px-4 py-2 rounded-lg transition-colors text-sm sm:text-base ${\r\n                  showDeleteConfirm\r\n                    ? 'bg-red-700 text-white hover:bg-red-800'\r\n                    : 'bg-red-600 text-white hover:bg-red-700'\r\n                }`}\r\n              >\r\n                {showDeleteConfirm ? 'Confirm Delete' : 'Delete'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* File Preview Modal */}\r\n      {selectedFile && (\r\n        <FilePreviewModal\r\n          file={selectedFile}\r\n          isOpen={!!selectedFile}\r\n          onClose={() => setSelectedFile(null)}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ContactDetailModal;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3613, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/components/admin/ErrorBoundary.js"],"sourcesContent":["import React from 'react';\r\nimport { AlertCircle, RefreshCw } from 'lucide-react';\r\n\r\n/**\r\n * ErrorBoundary Component\r\n * Catches JavaScript errors anywhere in the child component tree\r\n * and displays a fallback UI instead of crashing the whole app\r\n */\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null\r\n    };\r\n  }\r\n\r\n  static getDerivedStateFromError(error) {\r\n    // Update state so the next render will show the fallback UI\r\n    return { hasError: true };\r\n  }\r\n\r\n  componentDidCatch(error, errorInfo) {\r\n    // Log error details for debugging\r\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\r\n    \r\n    this.setState({\r\n      error,\r\n      errorInfo\r\n    });\r\n\r\n    // You can also log the error to an error reporting service here\r\n    // logErrorToService(error, errorInfo);\r\n  }\r\n\r\n  handleReset = () => {\r\n    this.setState({\r\n      hasError: false,\r\n      error: null,\r\n      errorInfo: null\r\n    });\r\n    \r\n    // Call optional onReset callback\r\n    if (this.props.onReset) {\r\n      this.props.onReset();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      // Custom fallback UI\r\n      if (this.props.fallback) {\r\n        return this.props.fallback;\r\n      }\r\n\r\n      // Default fallback UI\r\n      return (\r\n        <div className=\"min-h-[400px] flex items-center justify-center p-6\">\r\n          <div className=\"max-w-md w-full bg-white rounded-xl shadow-lg border border-red-200 p-8\">\r\n            <div className=\"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-4\">\r\n              <AlertCircle className=\"w-6 h-6 text-red-600\" />\r\n            </div>\r\n            \r\n            <h2 className=\"text-xl font-bold text-slate-900 text-center mb-2\">\r\n              Something went wrong\r\n            </h2>\r\n            \r\n            <p className=\"text-slate-600 text-center mb-6\">\r\n              {this.props.errorMessage || 'An unexpected error occurred. Please try again.'}\r\n            </p>\r\n\r\n            {/* Show error details in development */}\r\n            {process.env.NODE_ENV === 'development' && this.state.error && (\r\n              <details className=\"mb-6 p-4 bg-slate-50 rounded-lg border border-slate-200\">\r\n                <summary className=\"cursor-pointer text-sm font-medium text-slate-700 mb-2\">\r\n                  Error Details\r\n                </summary>\r\n                <pre className=\"text-xs text-red-600 overflow-auto\">\r\n                  {this.state.error.toString()}\r\n                  {this.state.errorInfo && this.state.errorInfo.componentStack}\r\n                </pre>\r\n              </details>\r\n            )}\r\n\r\n            <div className=\"flex flex-col sm:flex-row gap-3\">\r\n              <button\r\n                onClick={this.handleReset}\r\n                className=\"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n              >\r\n                <RefreshCw className=\"w-4 h-4\" />\r\n                <span>Try Again</span>\r\n              </button>\r\n              \r\n              <button\r\n                onClick={() => window.location.href = '/admin/dashboard'}\r\n                className=\"flex-1 px-4 py-2 border border-slate-300 rounded-lg hover:bg-slate-50 transition-colors\"\r\n              >\r\n                Go to Dashboard\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n"],"names":[],"mappings":";;;;AAyEa;;AAzEb;AACA;AAAA;;;;AAEA;;;;CAIC,GACD,MAAM,sBAAsB,iJAAK,CAAC,SAAS;IACzC,YAAY,KAAK,CAAE;QACjB,KAAK,CAAC;QACN,IAAI,CAAC,KAAK,GAAG;YACX,UAAU;YACV,OAAO;YACP,WAAW;QACb;IACF;IAEA,OAAO,yBAAyB,KAAK,EAAE;QACrC,4DAA4D;QAC5D,OAAO;YAAE,UAAU;QAAK;IAC1B;IAEA,kBAAkB,KAAK,EAAE,SAAS,EAAE;QAClC,kCAAkC;QAClC,QAAQ,KAAK,CAAC,kCAAkC,OAAO;QAEvD,IAAI,CAAC,QAAQ,CAAC;YACZ;YACA;QACF;IAEA,gEAAgE;IAChE,uCAAuC;IACzC;IAEA,cAAc;QACZ,IAAI,CAAC,QAAQ,CAAC;YACZ,UAAU;YACV,OAAO;YACP,WAAW;QACb;QAEA,iCAAiC;QACjC,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,EAAE;YACtB,IAAI,CAAC,KAAK,CAAC,OAAO;QACpB;IACF,EAAE;IAEF,SAAS;QACP,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;YACvB,qBAAqB;YACrB,IAAI,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;gBACvB,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;YAC5B;YAEA,sBAAsB;YACtB,qBACE,sKAAC;gBAAI,WAAU;0BACb,cAAA,sKAAC;oBAAI,WAAU;;sCACb,sKAAC;4BAAI,WAAU;sCACb,cAAA,sKAAC,2OAAW;gCAAC,WAAU;;;;;;;;;;;sCAGzB,sKAAC;4BAAG,WAAU;sCAAoD;;;;;;sCAIlE,sKAAC;4BAAE,WAAU;sCACV,IAAI,CAAC,KAAK,CAAC,YAAY,IAAI;;;;;;wBAI7B,oDAAyB,iBAAiB,IAAI,CAAC,KAAK,CAAC,KAAK,kBACzD,sKAAC;4BAAQ,WAAU;;8CACjB,sKAAC;oCAAQ,WAAU;8CAAyD;;;;;;8CAG5E,sKAAC;oCAAI,WAAU;;wCACZ,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,QAAQ;wCACzB,IAAI,CAAC,KAAK,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,cAAc;;;;;;;;;;;;;sCAKlE,sKAAC;4BAAI,WAAU;;8CACb,sKAAC;oCACC,SAAS,IAAI,CAAC,WAAW;oCACzB,WAAU;;sDAEV,sKAAC,qOAAS;4CAAC,WAAU;;;;;;sDACrB,sKAAC;sDAAK;;;;;;;;;;;;8CAGR,sKAAC;oCACC,SAAS,IAAM,OAAO,QAAQ,CAAC,IAAI,GAAG;oCACtC,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;QAOX;QAEA,OAAO,IAAI,CAAC,KAAK,CAAC,QAAQ;IAC5B;AACF;uCAEe"}},
    {"offset": {"line": 3800, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/hooks/useDebounce.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\n/**\r\n * useDebounce Hook\r\n * Debounces a value by delaying its update until after a specified delay\r\n * \r\n * @param {any} value - The value to debounce\r\n * @param {number} delay - Delay in milliseconds (default: 500ms)\r\n * @returns {any} - The debounced value\r\n */\r\nexport function useDebounce(value, delay = 500) {\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(() => {\r\n    // Set up a timer to update the debounced value after the delay\r\n    const handler = setTimeout(() => {\r\n      setDebouncedValue(value);\r\n    }, delay);\r\n\r\n    // Clean up the timer if value changes before delay expires\r\n    return () => {\r\n      clearTimeout(handler);\r\n    };\r\n  }, [value, delay]);\r\n\r\n  return debouncedValue;\r\n}\r\n\r\nexport default useDebounce;\r\n"],"names":[],"mappings":";;;;;;AAAA;;;AAUO,SAAS,YAAY,KAAK,EAAE,QAAQ,GAAG;;IAC5C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,kJAAQ,EAAC;IAErD,IAAA,mJAAS;iCAAC;YACR,+DAA+D;YAC/D,MAAM,UAAU;iDAAW;oBACzB,kBAAkB;gBACpB;gDAAG;YAEH,2DAA2D;YAC3D;yCAAO;oBACL,aAAa;gBACf;;QACF;gCAAG;QAAC;QAAO;KAAM;IAEjB,OAAO;AACT;GAhBgB;uCAkBD"}},
    {"offset": {"line": 3842, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/src/components/SEO.js"],"sourcesContent":["import Head from 'next/head';\r\n\r\n// Production site URL - used for canonical URLs and OG tags\r\nconst SITE_URL = 'https://www.militarydisabilitynexus.com';\r\n\r\nconst SEO = ({\r\n  title = 'Medical Consulting for Veterans',\r\n  description = 'Professional medical documentation services for VA disability claims. Expert nexus letters, DBQs, and medical consultations for veterans seeking disability benefits and compensation.',\r\n  keywords = 'VA nexus letter, DBQ, disability benefits questionnaire, aid and attendance, C&P exam, veteran medical documentation',\r\n  ogImage = '/android-chrome-512x512.png',\r\n  article = false,\r\n  publishedTime,\r\n  modifiedTime,\r\n  author = 'Military Disability Nexus',\r\n  canonical,\r\n  structuredData,\r\n  faqSchema,\r\n  breadcrumbs\r\n}) => {\r\n  // Always use production URL for SEO purposes\r\n  const siteUrl = SITE_URL;\r\n  // In Next.js SSR, window might be undefined initially, but Head handles it.\r\n  // For canonical, we can rely on the passed canonical or default to siteUrl.\r\n  // Ideally, we pass the current path from the parent page or use useRouter, \r\n  // but for now, we'll rely on the default or prop.\r\n  const canonicalUrl = canonical || siteUrl;\r\n\r\n  // Truncate description to 130 characters to avoid SEO penalties\r\n  const metaDescription = description.length > 130\r\n    ? `${description.substring(0, 127)}...`\r\n    : description;\r\n\r\n  return (\r\n    <Head>\r\n      {/* Basic Meta Tags */}\r\n      <title>{title} | Military Disability Nexus</title>\r\n      <meta name=\"description\" content={metaDescription} />\r\n      <meta name=\"keywords\" content={keywords} />\r\n      <link rel=\"canonical\" href={canonicalUrl} />\r\n\r\n      {/* Open Graph */}\r\n      <meta property=\"og:type\" content={article ? 'article' : 'website'} />\r\n      <meta property=\"og:title\" content={title} />\r\n      <meta property=\"og:description\" content={metaDescription} />\r\n      <meta property=\"og:url\" content={canonicalUrl} />\r\n      <meta property=\"og:image\" content={`${siteUrl}${ogImage}`} />\r\n      <meta property=\"og:site_name\" content=\"Military Disability Nexus\" />\r\n\r\n      {/* Article specific */}\r\n      {article && (\r\n        <>\r\n          <meta property=\"article:author\" content={author} />\r\n          {publishedTime && <meta property=\"article:published_time\" content={publishedTime} />}\r\n          {modifiedTime && <meta property=\"article:modified_time\" content={modifiedTime} />}\r\n        </>\r\n      )}\r\n\r\n      {/* Twitter Card */}\r\n      <meta name=\"twitter:card\" content=\"summary_large_image\" />\r\n      <meta name=\"twitter:title\" content={title} />\r\n      <meta name=\"twitter:description\" content={metaDescription} />\r\n      <meta name=\"twitter:image\" content={`${siteUrl}${ogImage}`} />\r\n\r\n      {/* Additional SEO */}\r\n      <meta name=\"robots\" content=\"index, follow\" />\r\n      <meta name=\"author\" content={author} />\r\n      <meta name=\"language\" content=\"English\" />\r\n\r\n      {/* Structured Data (JSON-LD) */}\r\n      {structuredData && (\r\n        <script\r\n          type=\"application/ld+json\"\r\n          dangerouslySetInnerHTML={{ __html: JSON.stringify(structuredData) }}\r\n        />\r\n      )}\r\n\r\n      {/* FAQ Schema */}\r\n      {faqSchema && faqSchema.length > 0 && (\r\n        <script\r\n          type=\"application/ld+json\"\r\n          dangerouslySetInnerHTML={{\r\n            __html: JSON.stringify({\r\n              \"@context\": \"https://schema.org\",\r\n              \"@type\": \"FAQPage\",\r\n              \"mainEntity\": faqSchema.map(faq => ({\r\n                \"@type\": \"Question\",\r\n                \"name\": faq.question,\r\n                \"acceptedAnswer\": {\r\n                  \"@type\": \"Answer\",\r\n                  \"text\": faq.answer\r\n                }\r\n              }))\r\n            })\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* Breadcrumb Schema */}\r\n      {breadcrumbs && breadcrumbs.length > 0 && (\r\n        <script\r\n          type=\"application/ld+json\"\r\n          dangerouslySetInnerHTML={{\r\n            __html: JSON.stringify({\r\n              \"@context\": \"https://schema.org\",\r\n              \"@type\": \"BreadcrumbList\",\r\n              \"itemListElement\": breadcrumbs.map((crumb, index) => ({\r\n                \"@type\": \"ListItem\",\r\n                \"position\": index + 1,\r\n                \"name\": crumb.name,\r\n                \"item\": `${siteUrl}${crumb.path}`\r\n              }))\r\n            })\r\n          }}\r\n        />\r\n      )}\r\n    </Head>\r\n  );\r\n};\r\n\r\nexport default SEO;\r\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,4DAA4D;AAC5D,MAAM,WAAW;AAEjB,MAAM,MAAM,CAAC,EACX,QAAQ,iCAAiC,EACzC,cAAc,wLAAwL,EACtM,WAAW,sHAAsH,EACjI,UAAU,6BAA6B,EACvC,UAAU,KAAK,EACf,aAAa,EACb,YAAY,EACZ,SAAS,2BAA2B,EACpC,SAAS,EACT,cAAc,EACd,SAAS,EACT,WAAW,EACZ;IACC,6CAA6C;IAC7C,MAAM,UAAU;IAChB,4EAA4E;IAC5E,4EAA4E;IAC5E,4EAA4E;IAC5E,kDAAkD;IAClD,MAAM,eAAe,aAAa;IAElC,gEAAgE;IAChE,MAAM,kBAAkB,YAAY,MAAM,GAAG,MACzC,GAAG,YAAY,SAAS,CAAC,GAAG,KAAK,GAAG,CAAC,GACrC;IAEJ,qBACE,sKAAC,+IAAI;;0BAEH,sKAAC;;oBAAO;oBAAM;;;;;;;0BACd,sKAAC;gBAAK,MAAK;gBAAc,SAAS;;;;;;0BAClC,sKAAC;gBAAK,MAAK;gBAAW,SAAS;;;;;;0BAC/B,sKAAC;gBAAK,KAAI;gBAAY,MAAM;;;;;;0BAG5B,sKAAC;gBAAK,UAAS;gBAAU,SAAS,UAAU,YAAY;;;;;;0BACxD,sKAAC;gBAAK,UAAS;gBAAW,SAAS;;;;;;0BACnC,sKAAC;gBAAK,UAAS;gBAAiB,SAAS;;;;;;0BACzC,sKAAC;gBAAK,UAAS;gBAAS,SAAS;;;;;;0BACjC,sKAAC;gBAAK,UAAS;gBAAW,SAAS,GAAG,UAAU,SAAS;;;;;;0BACzD,sKAAC;gBAAK,UAAS;gBAAe,SAAQ;;;;;;YAGrC,yBACC;;kCACE,sKAAC;wBAAK,UAAS;wBAAiB,SAAS;;;;;;oBACxC,+BAAiB,sKAAC;wBAAK,UAAS;wBAAyB,SAAS;;;;;;oBAClE,8BAAgB,sKAAC;wBAAK,UAAS;wBAAwB,SAAS;;;;;;;;0BAKrE,sKAAC;gBAAK,MAAK;gBAAe,SAAQ;;;;;;0BAClC,sKAAC;gBAAK,MAAK;gBAAgB,SAAS;;;;;;0BACpC,sKAAC;gBAAK,MAAK;gBAAsB,SAAS;;;;;;0BAC1C,sKAAC;gBAAK,MAAK;gBAAgB,SAAS,GAAG,UAAU,SAAS;;;;;;0BAG1D,sKAAC;gBAAK,MAAK;gBAAS,SAAQ;;;;;;0BAC5B,sKAAC;gBAAK,MAAK;gBAAS,SAAS;;;;;;0BAC7B,sKAAC;gBAAK,MAAK;gBAAW,SAAQ;;;;;;YAG7B,gCACC,sKAAC;gBACC,MAAK;gBACL,yBAAyB;oBAAE,QAAQ,KAAK,SAAS,CAAC;gBAAgB;;;;;;YAKrE,aAAa,UAAU,MAAM,GAAG,mBAC/B,sKAAC;gBACC,MAAK;gBACL,yBAAyB;oBACvB,QAAQ,KAAK,SAAS,CAAC;wBACrB,YAAY;wBACZ,SAAS;wBACT,cAAc,UAAU,GAAG,CAAC,CAAA,MAAO,CAAC;gCAClC,SAAS;gCACT,QAAQ,IAAI,QAAQ;gCACpB,kBAAkB;oCAChB,SAAS;oCACT,QAAQ,IAAI,MAAM;gCACpB;4BACF,CAAC;oBACH;gBACF;;;;;;YAKH,eAAe,YAAY,MAAM,GAAG,mBACnC,sKAAC;gBACC,MAAK;gBACL,yBAAyB;oBACvB,QAAQ,KAAK,SAAS,CAAC;wBACrB,YAAY;wBACZ,SAAS;wBACT,mBAAmB,YAAY,GAAG,CAAC,CAAC,OAAO,QAAU,CAAC;gCACpD,SAAS;gCACT,YAAY,QAAQ;gCACpB,QAAQ,MAAM,IAAI;gCAClB,QAAQ,GAAG,UAAU,MAAM,IAAI,EAAE;4BACnC,CAAC;oBACH;gBACF;;;;;;;;;;;;AAKV;KAhHM;uCAkHS"}},
    {"offset": {"line": 4098, "column": 0}, "map": {"version":3,"sources":["file:///D:/baseskel-main/frontend/pages/admin/contacts.js"],"sourcesContent":["import { useEffect, useState, useMemo } from 'react';\r\nimport { supabase } from '../../src/lib/supabase';\r\nimport AdminLayout from '../../src/components/admin/AdminLayout';\r\nimport ProtectedRoute from '../../src/components/admin/ProtectedRoute';\r\nimport ContactDetailModal from '../../src/components/admin/ContactDetailModal';\r\nimport ErrorBoundary from '../../src/components/admin/ErrorBoundary';\r\nimport { TableRowSkeleton } from '../../src/components/admin/SkeletonLoader';\r\nimport { useDebounce } from '../../src/hooks/useDebounce';\r\nimport { Search, Mail, Phone, Calendar, Eye, Trash2, FileText, AlertCircle } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport SEO from '../../src/components/SEO';\r\n\r\nconst Contacts = () => {\r\n    const [contacts, setContacts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [selectedContact, setSelectedContact] = useState(null);\r\n    const [fileCounts, setFileCounts] = useState({});\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetchContacts();\r\n    }, []);\r\n\r\n    const fetchContacts = async () => {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('contacts')\r\n                .select('*')\r\n                .order('created_at', { ascending: false });\r\n\r\n            if (error) throw error;\r\n            setContacts(data);\r\n\r\n            // Fetch file counts for all contacts\r\n            if (data && data.length > 0) {\r\n                await fetchFileCounts(data.map(c => c.id));\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching contacts:', error);\r\n            setError('Failed to load contacts. Please try again.');\r\n            toast.error('Failed to load contacts');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchFileCounts = async (contactIds) => {\r\n        try {\r\n            const { data, error } = await supabase\r\n                .from('file_uploads')\r\n                .select('contact_id')\r\n                .in('contact_id', contactIds);\r\n\r\n            if (error) throw error;\r\n\r\n            // Count files per contact\r\n            const counts = {};\r\n            data.forEach(file => {\r\n                counts[file.contact_id] = (counts[file.contact_id] || 0) + 1;\r\n            });\r\n\r\n            setFileCounts(counts);\r\n        } catch (error) {\r\n            console.error('Error fetching file counts:', error);\r\n        }\r\n    };\r\n\r\n    const deleteContact = async (id) => {\r\n        try {\r\n            const { error } = await supabase\r\n                .from('contacts')\r\n                .delete()\r\n                .eq('id', id);\r\n\r\n            if (error) throw error;\r\n\r\n            setContacts(contacts.filter(c => c.id !== id));\r\n            setSelectedContact(null);\r\n            toast.success('Contact deleted');\r\n        } catch (error) {\r\n            console.error('Error deleting contact:', error);\r\n            toast.error('Failed to delete contact');\r\n        }\r\n    };\r\n\r\n    // Debounce search query for better performance\r\n    const debouncedSearchQuery = useDebounce(searchQuery, 300);\r\n\r\n    // Memoize filtered contacts to avoid unnecessary recalculations\r\n    const filteredContacts = useMemo(() => {\r\n        if (!debouncedSearchQuery) return contacts;\r\n\r\n        const query = debouncedSearchQuery.toLowerCase();\r\n        return contacts.filter(contact =>\r\n            contact.name?.toLowerCase().includes(query) ||\r\n            contact.email?.toLowerCase().includes(query) ||\r\n            contact.subject?.toLowerCase().includes(query)\r\n        );\r\n    }, [contacts, debouncedSearchQuery]);\r\n\r\n    const formatDate = (dateString) => {\r\n        return new Date(dateString).toLocaleDateString('en-US', {\r\n            year: 'numeric',\r\n            month: 'short',\r\n            day: 'numeric',\r\n            hour: '2-digit',\r\n            minute: '2-digit'\r\n        });\r\n    };\r\n\r\n    return (\r\n        <ProtectedRoute>\r\n            <AdminLayout>\r\n                <SEO title=\"Admin Contacts\" noindex={true} />\r\n                <ErrorBoundary errorMessage=\"Failed to load contacts page\">\r\n                    <div className=\"space-y-6\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <h1 className=\"text-3xl font-bold text-slate-900\">Contacts</h1>\r\n                                <p className=\"text-slate-600 mt-2\">Manage form submissions</p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Search */}\r\n                        <div className=\"bg-white rounded-xl shadow-sm p-4 border border-slate-200\">\r\n                            <div className=\"relative\">\r\n                                <label htmlFor=\"contact-search\" className=\"sr-only\">Search contacts</label>\r\n                                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-slate-400\" aria-hidden=\"true\" />\r\n                                <input\r\n                                    id=\"contact-search\"\r\n                                    type=\"text\"\r\n                                    placeholder=\"Search contacts...\"\r\n                                    value={searchQuery}\r\n                                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                                    className=\"w-full pl-10 pr-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n                                    aria-label=\"Search contacts by name, email, or subject\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Error State */}\r\n                        {error && (\r\n                            <div className=\"bg-white rounded-xl shadow-sm p-12 text-center border border-red-200\">\r\n                                <div className=\"flex items-center justify-center w-12 h-12 bg-red-100 rounded-full mx-auto mb-4\">\r\n                                    <AlertCircle className=\"w-6 h-6 text-red-600\" />\r\n                                </div>\r\n                                <h3 className=\"text-lg font-semibold text-slate-900 mb-2\">Failed to Load Contacts</h3>\r\n                                <p className=\"text-slate-600 mb-6\">{error}</p>\r\n                                <button\r\n                                    onClick={fetchContacts}\r\n                                    className=\"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n                                >\r\n                                    Try Again\r\n                                </button>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Contacts List */}\r\n                        {!error && (loading || filteredContacts.length > 0) ? (\r\n                            <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden\">\r\n                                <div className=\"overflow-x-auto\">\r\n                                    <table className=\"min-w-full divide-y divide-slate-200\">\r\n                                        <thead className=\"bg-slate-50\">\r\n                                            <tr>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider\">Name</th>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider\">Contact</th>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider\">Subject</th>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider\">Files</th>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider\">Date</th>\r\n                                                <th className=\"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider\">Actions</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody className=\"bg-white divide-y divide-slate-200\">\r\n                                            {loading ? (\r\n                                                <TableRowSkeleton columns={6} rows={5} />\r\n                                            ) : (\r\n                                                filteredContacts.map((contact) => {\r\n                                                    const fileCount = fileCounts[contact.id] || 0;\r\n                                                    return (\r\n                                                        <tr key={contact.id} className=\"hover:bg-slate-50\">\r\n                                                            <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                                                <div className=\"text-sm font-medium text-slate-900\">{contact.name}</div>\r\n                                                            </td>\r\n                                                            <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                                                <div className=\"text-sm text-slate-900 flex items-center space-x-1\">\r\n                                                                    <Mail className=\"w-4 h-4 text-slate-400\" />\r\n                                                                    <span>{contact.email}</span>\r\n                                                                </div>\r\n                                                                {contact.phone && (\r\n                                                                    <div className=\"text-sm text-slate-500 flex items-center space-x-1 mt-1\">\r\n                                                                        <Phone className=\"w-4 h-4 text-slate-400\" />\r\n                                                                        <span>{contact.phone}</span>\r\n                                                                    </div>\r\n                                                                )}\r\n                                                            </td>\r\n                                                            <td className=\"px-6 py-4\">\r\n                                                                <div className=\"text-sm text-slate-900\">{contact.subject}</div>\r\n                                                            </td>\r\n                                                            <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                                                {fileCount > 0 ? (\r\n                                                                    <div className=\"flex items-center space-x-2\">\r\n                                                                        <FileText className=\"w-4 h-4 text-indigo-600\" />\r\n                                                                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-indigo-100 text-indigo-800\">\r\n                                                                            {fileCount} {fileCount === 1 ? 'file' : 'files'}\r\n                                                                        </span>\r\n                                                                    </div>\r\n                                                                ) : (\r\n                                                                    <span className=\"text-sm text-slate-400\">No files</span>\r\n                                                                )}\r\n                                                            </td>\r\n                                                            <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                                                                <div className=\"text-sm text-slate-500 flex items-center space-x-1\">\r\n                                                                    <Calendar className=\"w-4 h-4\" />\r\n                                                                    <span>{formatDate(contact.created_at)}</span>\r\n                                                                </div>\r\n                                                            </td>\r\n                                                            <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                                                                <button\r\n                                                                    onClick={() => setSelectedContact(contact)}\r\n                                                                    className=\"text-indigo-600 hover:text-teal-900 mr-3\"\r\n                                                                    aria-label={`View details for ${contact.name}`}\r\n                                                                    title=\"View contact details\"\r\n                                                                >\r\n                                                                    <Eye className=\"w-5 h-5\" aria-hidden=\"true\" />\r\n                                                                </button>\r\n                                                                <button\r\n                                                                    onClick={() => deleteContact(contact.id)}\r\n                                                                    className=\"text-red-600 hover:text-red-900\"\r\n                                                                    aria-label={`Delete contact ${contact.name}`}\r\n                                                                    title=\"Delete contact\"\r\n                                                                >\r\n                                                                    <Trash2 className=\"w-5 h-5\" aria-hidden=\"true\" />\r\n                                                                </button>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    );\r\n                                                })\r\n                                            )}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        ) : !error && filteredContacts.length === 0 && (\r\n                            <div className=\"bg-white rounded-xl shadow-sm p-12 text-center border border-slate-200\">\r\n                                <Mail className=\"w-12 h-12 text-slate-300 mx-auto mb-4\" />\r\n                                <p className=\"text-slate-600\">No contacts found</p>\r\n                                {searchQuery && (\r\n                                    <p className=\"text-slate-500 text-sm mt-2\">Try adjusting your search</p>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Contact Detail Modal */}\r\n                        <ContactDetailModal\r\n                            contact={selectedContact}\r\n                            isOpen={!!selectedContact}\r\n                            onClose={() => setSelectedContact(null)}\r\n                            onDelete={deleteContact}\r\n                        />\r\n                    </div>\r\n                </ErrorBoundary>\r\n            </AdminLayout>\r\n        </ProtectedRoute>\r\n    );\r\n};\r\n\r\nexport default Contacts;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4752, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/entry/page-loader.ts"],"sourcesContent":["const PAGE_PATH = \"/admin/contacts\";\n\n/// <reference types=\"next/client\" />\r\n\r\n// inserted by rust code\r\ndeclare const PAGE_PATH: string\r\n\r\n  // Adapted from https://github.com/vercel/next.js/blob/b7f9f1f98fc8ab602e84825105b5727272b72e7d/packages/next/src/build/webpack/loaders/next-client-pages-loader.ts\r\n;(window.__NEXT_P = window.__NEXT_P || []).push([\r\n  PAGE_PATH,\r\n  () => {\r\n    return require('PAGE')\r\n  },\r\n])\r\n// @ts-expect-error module.hot exists\r\nif (module.hot) {\r\n  // @ts-expect-error module.hot exists\r\n  module.hot.dispose(function () {\r\n    window.__NEXT_P.push([PAGE_PATH])\r\n  })\r\n}\r\n"],"names":[],"mappings":"AAAA,MAAM,YAAY;AAQjB,CAAC,OAAO,QAAQ,GAAG,OAAO,QAAQ,IAAI,EAAE,EAAE,IAAI,CAAC;IAC9C;IACA;QACE;IACF;CACD;AACD,qCAAqC;AACrC,IAAI,OAAO,GAAG,EAAE;IACd,qCAAqC;IACrC,OAAO,GAAG,CAAC,OAAO,CAAC;QACjB,OAAO,QAAQ,CAAC,IAAI,CAAC;YAAC;SAAU;IAClC;AACF","ignoreList":[0]}}]
}